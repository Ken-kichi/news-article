# LangGraphã§ä½œã‚‹ã€Œçˆ†é€Ÿã€è‡ªå‹•ãƒ‹ãƒ¥ãƒ¼ã‚¹å‹•ç”»ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

### è¨˜äº‹åŸç¨¿ã‹ã‚‰å‹•ç”»ç´ æã¾ã§ã‚’ãƒ•ãƒ«ã‚ªãƒ¼ãƒˆã§ä¸€æ°—é€šè²«ï¼

Markdownã§æ›¸ã„ãŸãƒ‹ãƒ¥ãƒ¼ã‚¹åŸç¨¿ã‚’æ”¾ã‚Šè¾¼ã‚€ã ã‘ã§ã€**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ãƒ»é–¢é€£ç”»åƒãƒ»å‹•ç”»ã‚¯ãƒªãƒƒãƒ—ãƒ»ã‚µãƒ ãƒã‚¤ãƒ«ãƒ»æŠ•ç¨¿ç”¨ãƒ†ã‚­ã‚¹ãƒˆ**ã¾ã§ã‚’AIãŒä¸€æ‹¬é‡ç”£ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€LangGraphã€Azureã€OpenAIã€ãã—ã¦MoviePyã‚’çµ„ã¿åˆã‚ã›ã€ã€Œæ¯æ—¥ã®åŸ·ç­†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å‹•ç”»åˆ¶ä½œã¾ã§æ‹¡å¼µã™ã‚‹ã€å®Ÿé‹ç”¨ãƒ¬ãƒ™ãƒ«ã®è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦ã€è¨­è¨ˆæ€æƒ³ã‹ã‚‰å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã¾ã§ä½™ã™ã“ã¨ãªãå…¬é–‹ã—ã¾ã™ã€‚

---

### 1. ã¯ã˜ã‚ã«
### è¨˜äº‹åŸç¨¿ã‹ã‚‰å‹•ç”»ç´ æã¾ã§ã‚’ãƒ•ãƒ«ã‚ªãƒ¼ãƒˆã§ä¸€æ°—é€šè²«ï¼

Markdownã§æ›¸ã„ãŸãƒ‹ãƒ¥ãƒ¼ã‚¹åŸç¨¿ã‚’æ”¾ã‚Šè¾¼ã‚€ã ã‘ã§ã€**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ãƒ»é–¢é€£ç”»åƒãƒ»å‹•ç”»ã‚¯ãƒªãƒƒãƒ—ãƒ»ã‚µãƒ ãƒã‚¤ãƒ«ãƒ»æŠ•ç¨¿ç”¨ãƒ†ã‚­ã‚¹ãƒˆ**ã¾ã§ã‚’AIãŒä¸€æ‹¬é‡ç”£ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€LangGraphã€Azureã€OpenAIã€ãã—ã¦MoviePyã‚’çµ„ã¿åˆã‚ã›ã€ã€Œæ¯æ—¥ã®åŸ·ç­†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å‹•ç”»åˆ¶ä½œã¾ã§æ‹¡å¼µã™ã‚‹ã€å®Ÿé‹ç”¨ãƒ¬ãƒ™ãƒ«ã®è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦ã€è¨­è¨ˆæ€æƒ³ã‹ã‚‰å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã¾ã§ä½™ã™ã“ã¨ãªãå…¬é–‹ã—ã¾ã™ã€‚

### 1. ã¯ã˜ã‚ã«

**ã€Œã›ã£ã‹ãæ›¸ã„ãŸãƒ–ãƒ­ã‚°è¨˜äº‹ã€ã‚‚ã£ã¨å¤šãã®äººã«å±Šã‘ãŸã„â€¦â€¦ã€**

ãã‚“ãªæ‚©ã¿ã‹ã‚‰ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å§‹ã¾ã‚Šã¾ã—ãŸã€‚ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã§ã¯ãƒªãƒ¼ãƒã§ããªã„ã€Œå‹•ç”»è¦–è´å±¤ã€ã¸ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã™ã‚‹ãŸã‚ã«ã€è¨˜äº‹ã®è¦ç´„ã€ç”»åƒç”Ÿæˆã€éŸ³å£°åˆæˆã€ãã—ã¦å‹•ç”»ç·¨é›†ã¨ã„ã†è¤‡é›‘ãªå·¥ç¨‹ã‚’LangGraphã§ä¸€è²«ã—ã¦è‡ªå‹•åŒ–ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€ç¾åœ¨é€²è¡Œå½¢ã§ç¨¼åƒã—ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®å…¨å®¹ã‚’è§£èª¬ã—ã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã®ä¸€ã¤ã²ã¨ã¤ã®å½¹å‰²ã¾ã§æ·±æ˜ã‚Šã—ã¦ã„ãã®ã§ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚‚ã™ãã«å–ã‚Šå…¥ã‚Œã€ç‹¬è‡ªã®ã€Œè‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€ã‚’æ§‹ç¯‰ã§ãã‚‹ã¯ãšã§ã™ã€‚

### 2. æœ¬è¨˜äº‹ã§ç¿’å¾—ã§ãã‚‹ã€Œæ¬¡ä¸–ä»£ã®è‡ªå‹•åŒ–ã‚¹ã‚­ãƒ«ã€

æœ¬æ›¸ã‚’èª­ã¿çµ‚ãˆã‚‹é ƒã«ã¯ã€å˜ãªã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆã®åŸŸã‚’è¶…ãˆãŸã€**ã€ŒAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®Ÿå‹™ãƒ¬ãƒ™ãƒ«ã§é£¼ã„ãªã‚‰ã™ã€**ä»¥ä¸‹ã®å®Ÿè·µçš„ãªã‚¹ã‚­ãƒ«ãŒã‚ãªãŸã®ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚

* **LangGraphã«ã‚ˆã‚‹é«˜åº¦ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆè¡“**
ã€ŒçŠ¶æ…‹ï¼ˆStateï¼‰ã€ã‚’ç®¡ç†ã—ã€è¤‡æ•°ã®AIã‚’è¿·ã‚ã›ãšã«é€£æºã•ã›ã‚‹ãƒãƒ¼ãƒ‰è¨­è¨ˆã®æ¥µæ„ã‚’ä¼æˆã—ã¾ã™ã€‚è¤‡é›‘ãªå‡¦ç†ã‚’æ§‹é€ åŒ–ã—ã€ç¢ºå®Ÿã«å®Œçµã•ã›ã‚‹**åˆ¶å¾¡å¯èƒ½ãªAIã‚·ã‚¹ãƒ†ãƒ **ã®ä½œã‚Šæ–¹ãŒã‚ã‹ã‚Šã¾ã™ã€‚
* **Azure AIã‚µãƒ¼ãƒ“ã‚¹ã®å¾¹åº•æ´»ç”¨ãƒ»é€£æºãƒ†ã‚¯ãƒ‹ãƒƒã‚¯**
GPT-4oï¼ˆæ€è€ƒï¼‰ã€FLUXï¼ˆè¦–è¦šï¼‰ã€éŸ³å£°åˆæˆï¼ˆè´è¦šï¼‰ã¨ã„ã†ã€æœ€é«˜å³°ã®AIãƒ¢ãƒ‡ãƒ«ãŸã¡ã‚’ãƒãƒ©ãƒãƒ©ã«ä½¿ã†ã®ã§ã¯ãªãã€**ä¸€ã¤ã®å¼·åŠ›ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã‚‹**æŠ€æ³•ã‚’ç¿’å¾—ã§ãã¾ã™ã€‚
* **Pythonã«ã‚ˆã‚‹ã€Œæ‰‹ä½œæ¥­ã‚¼ãƒ­ã€ã®å‹•ç”»ç·¨é›†ãƒã‚¦ãƒã‚¦**
å‹•ç”»ç·¨é›†ã‚½ãƒ•ãƒˆã‚’ä¸€åˆ‡é–‹ã‹ãšã«ã€MoviePyã‚’é§†ä½¿ã—ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã ã‘ã§æ˜ åƒã‚’åˆæˆãƒ»æ¼”å‡ºã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å…¬é–‹ã€‚**ã‚³ãƒ¼ãƒ‰ãŒå‹•ç”»ã‚’æ›¸ãå‡ºã™**å¿«æ„Ÿã‚’ä½“é¨“ã—ã¦ãã ã•ã„ã€‚
* **ç¾å ´ã§å·®ãŒã¤ãã€Œå®Ÿé‹ç”¨ã€ã®çŸ¥è¦‹**
APIã‚³ã‚¹ãƒˆã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹æœ€é©åŒ–ã®å·¥å¤«ã‚„ã€äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ã§æ­¢ã¾ã‚‰ãªã„ãŸã‚ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãªã©ã€**ã€Œå‹•ã„ã¦å½“ãŸã‚Šå‰ã€ã®ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«**ã§å¿…è¦ãªãƒã‚¦ãƒã‚¦ã‚’å‡ç¸®ã—ã¾ã—ãŸã€‚

**ã€ŒAIã«ä½•ã‚’ã•ã›ã‚‹ã‹ã€ã§ã¯ãªãã€ã€ŒAIã«ã©ã†ä»•äº‹ã‚’ã•ã›ã‚‹ã‹ã€ã€‚**
ãã®è¨­è¨ˆæ€æƒ³ã¨å®Ÿè£…åŠ›ã‚’ã€å‹•ç”»ç”Ÿæˆã¨ã„ã†æœ€é«˜ã«ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°ãªãƒ†ãƒ¼ãƒã‚’é€šã˜ã¦èº«ã«ã¤ã‘ã¾ã—ã‚‡ã†ã€‚


### 3. âš ï¸ å°å…¥å‰ã«çŸ¥ã£ã¦ãŠãã¹ãã“ã¨ï¼ˆæœŸå¾…å€¤èª¿æ•´ï¼‰

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã‚’æœ€å¤§é™ã«æ´»ç”¨ã—ã¦ã„ãŸã ããŸã‚ã«ã€ã‚ã‚‰ã‹ã˜ã‚ç†è§£ã—ã¦ãŠã„ã¦ã»ã—ã„ã€Œè‡ªå‹•åŒ–ã®å¢ƒç•Œç·šã€ãŒã‚ã‚Šã¾ã™ã€‚

### ã€ŒAIãŒä½œã‚‹ã“ã¨ã€ã¨ã€Œäººé–“ãŒä»•ä¸Šã’ã‚‹ã“ã¨ã€

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæ‹…å½“ã™ã‚‹ã®ã¯ã€ã‚ãã¾ã§**ã€Œå‹•ç”»ç´ æã®ç”Ÿæˆã€**ã§ã™ã€‚

| AIãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚‚ã® | äººé–“ãŒä»•ä¸Šã’ã‚‹ã‚‚ã®ï¼ˆCanvaç­‰ï¼‰ |
| --- | --- |
| ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ï¼ˆWAVï¼‰ | å­—å¹•ãƒ»ãƒ†ãƒ­ãƒƒãƒ—ã®é…ç½® |
| è¨˜äº‹å†…å®¹ã«å³ã—ãŸç”»åƒãƒ»å‹•ç”» | BGMãƒ»åŠ¹æœéŸ³ï¼ˆSEï¼‰ã®æŒ¿å…¥ |
| åŸºæœ¬çš„ãªå‹•ç”»ã‚¯ãƒªãƒƒãƒ—ã®çµåˆ | ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°ãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°æ¼”å‡º |
| æŠ•ç¨¿ç”¨ã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜æ–‡ | ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ï¼ˆå ´é¢è»¢æ›ï¼‰ã®èª¿æ•´ |

è¦–è´è€…ã‚’æƒ¹ãã¤ã‘ã‚‹ã€Œå®Œæˆå“ã€ã«ã™ã‚‹ã«ã¯ã€æœ€å¾Œã«Canvaãªã©ã®ãƒ„ãƒ¼ãƒ«ã§ã²ã¨æ‰‹é–“åŠ ãˆã‚‹ã®ãŒã€ç¾åœ¨ã®AIé‹ç”¨ã«ãŠã„ã¦æœ€ã‚‚ã‚³ã‚¹ãƒ‘ã®è‰¯ã„æ‰‹æ³•ã§ã™ã€‚

#### é‹ç”¨ä¸Šã®7ã¤ã®é‡è¦ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ

1. **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹éµå®ˆ**ï¼šãƒ•ãƒªãƒ¼ç´ æã‚„FLUXç”Ÿæˆç”»åƒã¯ã€å¿…ãšç›®è¦–ã§è‘—ä½œæ¨©ãƒ»è‚–åƒæ¨©ã®ç¢ºèªã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
2. **Azureã®ã‚³ã‚¹ãƒˆç®¡ç†**ï¼šå¾“é‡èª²é‡‘åˆ¶ã§ã™ã€‚ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã§1é€±é–“ç¨‹åº¦ã®ã‚³ã‚¹ãƒˆæ„Ÿï¼ˆæ•°ç™¾å††ã€œï¼‰ã‚’æŠŠæ¡ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚
3. **å‘½åãƒ«ãƒ¼ãƒ«ã®å³å®ˆ**ï¼šè¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ `YYYYMMDD_ã‚¿ã‚¤ãƒˆãƒ«.md` å½¢å¼ã«ã€‚ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•èªè­˜ã™ã‚‹ãŸã‚ã®ã€Œéµã€ã¨ãªã‚Šã¾ã™ã€‚
4. **ã€Œ60ç§’ã€ã®å£**ï¼šShortså‘ã‘ã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚1æœ¬ã®å‹•ç”»ã«å…¥ã‚Œã‚‹è¨˜äº‹æ•°ã¯3ã€œ5ä»¶ãŒãƒ™ã‚¹ãƒˆãƒãƒ©ãƒ³ã‚¹ã§ã™ã€‚
5. **å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ã®æ•´ç†**ï¼šå®Ÿè¡Œã®ãŸã³ã«å¤§å®¹é‡ã®WAVç­‰ãŒç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€å®šæœŸçš„ãªæƒé™¤ãŒå¿…è¦ã§ã™ã€‚
6. **å‡¦ç†æ™‚é–“ã®ç›®å®‰**ï¼š5è¨˜äº‹åˆ†ã§ç´„5ã€œ10åˆ†ã€‚ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’é£²ã‚“ã§ã„ã‚‹é–“ã«ç´ æãŒæƒã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚
7. **ã‚¨ãƒ©ãƒ¼ã¸ã®å‚™ãˆ**ï¼š`node_logs.jsonl` ã‚’è¦‹ã‚Œã°ã€ã©ã®å·¥ç¨‹ã§ã¤ã¾ã¥ã„ãŸã‹ä¸€ç›®ã§åˆ†ã‹ã‚‹è¨­è¨ˆã«ã—ã¦ã„ã¾ã™ã€‚



### 4. ãªãœã€ŒLangGraphã€ãªã®ã‹ï¼Ÿ é–‹ç™ºã®èˆå°è£

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºã«è¸ã¿åˆ‡ã£ãŸã®ã«ã¯ã€3ã¤ã®åˆ‡å®Ÿãªç†ç”±ãŒã‚ã‚Šã¾ã™ã€‚

#### â‘  ã€Œè€³ã€ã§æ¥½ã—ã‚€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®è»¢æ›

ã€Œãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹ã‚’å®¶äº‹ã‚„é€šå‹¤ä¸­ã«è´ããŸã„ã€ã¨ã„ã†ãƒ‹ãƒ¼ã‚ºã«å¯¾ã—ã€æ¯æ—¥æ‰‹ä½œæ¥­ã§éŸ³å£°ã‚’å½“ã¦ã‚‹ã®ã¯è‹¦è¡Œã§ã™ã€‚ã“ã‚Œã‚’AIã«ä»»ã›ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã€Œãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹åŒ–ã€ã‚’ä¸€æ°—ã«åŠ é€Ÿã•ã›ã¾ã—ãŸã€‚

#### â‘¡ æœªçŸ¥ã®è¦–è´è€…å±¤ã¸ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã§ã¯å±Šã‹ãªã„ã€Œå‹•ç”»ã§æƒ…å ±ã‚’å¾—ã‚‹å±¤ã€ã«å¯¾ã—ã€YouTube Shortsã¨ã„ã†å¼·åŠ›ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æ´»ç”¨ã—ãŸã‹ã£ãŸã®ã§ã™ã€‚

#### â‘¢ LangGraphã®é™ç•Œçªç ´

LangGraphã¯é€šå¸¸ã€ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç†ã«ä½¿ã‚ã‚Œã¾ã™ãŒã€ã€Œãƒãƒ«ãƒãƒ¡ãƒ‡ã‚£ã‚¢ç”Ÿæˆï¼ˆç”»åƒãƒ»éŸ³ãƒ»å‹•ç”»ï¼‰ã€ã¨ã„ã†è¤‡é›‘ãªéåŒæœŸã‚¿ã‚¹ã‚¯ã«ã©ã“ã¾ã§è€ãˆã‚‰ã‚Œã‚‹ã‹ã€ã¨ã„ã†æŠ€è¡“çš„æŒ‘æˆ¦ã§ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚

**ãã‚Œã§ã¯ã€å…·ä½“çš„ãªè¨­è¨ˆã¨å®Ÿè£…ã®è§£èª¬ã«ç§»ã‚Šã¾ã—ã‚‡ã†ã€‚**

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼š6ã¤ã®ãƒãƒ¼ãƒ‰ã«ã‚ˆã‚‹ã€Œè‡ªå‹•ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€
æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ã€**LangGraph**ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã§ã€è¤‡é›‘ãªå‹•ç”»åˆ¶ä½œå·¥ç¨‹ã‚’ã€Œ6ã¤ã®ç‹¬ç«‹ã—ãŸãƒãƒ¼ãƒ‰ï¼ˆå·¥ç¨‹ï¼‰ã€ã«åˆ†è§£ã—ã¦åˆ¶å¾¡ã—ã¦ã„ã¾ã™ã€‚

ã€Œè¨˜äº‹ â†’ éŸ³å£° â†’ ç”»åƒ â†’ ã‚µãƒ ãƒã‚¤ãƒ« â†’ å‹•ç”» â†’ YouTubeãƒ¡ã‚¿æƒ…å ±ã€ã¨ã„ã†ä¸€é€£ã®ãƒ•ãƒ­ãƒ¼ã‚’ç›´åˆ—ã«ã¤ãªãã“ã¨ã§ã€å„å·¥ç¨‹ãŒå˜ä¸€ã®è²¬ä»»ï¼ˆå˜ä¸€è²¬å‹™ï¼‰ã‚’æŒã¤ã‚ˆã†è¨­è¨ˆã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä¸‡ãŒä¸€ã®ã‚¨ãƒ©ãƒ¼æ™‚ã®èª¿æŸ»ã‚„ã€ã€Œç”»åƒç”Ÿæˆãƒ¢ãƒ‡ãƒ«ã ã‘ã‚’æœ€æ–°ã®ã‚‚ã®ã«å…¥ã‚Œæ›¿ãˆã‚‹ã€ã¨ã„ã£ãŸã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå®¹æ˜“ãªæ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ã€‚

### å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®å…¨ä½“åƒ

è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMarkdownï¼‰ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰ã€æœ€çµ‚çš„ãªYouTubeæŠ•ç¨¿ç”¨ç´ æãŒç”Ÿæˆã•ã‚Œã‚‹ã¾ã§ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚

```mermaid
flowchart TD
    Articles[(article/*.md)] --> Fetch[fetch_articles<br/>è¨˜äº‹èª­ã¿è¾¼ã¿ãƒ»è¦ç´„]
    Fetch --> Audio[generate_audio_assets<br/>ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°+SBVå­—å¹•]
    Audio --> Visual[generate_visual_assets<br/>ã‚¤ãƒ©ã‚¹ãƒˆç”Ÿæˆ]
    Visual --> Video[create_video<br/>MoviePyã«ã‚ˆã‚‹å‹•ç”»åˆæˆ]
    Video --> Meta[generate_youtube_metadata<br/>æŠ•ç¨¿ç”¨ã‚¿ã‚¤ãƒˆãƒ«/æ¦‚è¦/ã‚¿ã‚°]
    Meta --> Outputs[(output/YYYYMMDD_*)]
    Outputs --> Canva[Canvaã§æœ€çµ‚ä»•ä¸Šã’]
    Canva --> YouTube[YouTube Shortsã¸å…¬é–‹]

    style Fetch fill:#e1f5ff,stroke:#5b9bd5
    style Audio fill:#fff9e1,stroke:#f6c343
    style Visual fill:#ffe1f5,stroke:#d246a3
    style Video fill:#e1ffe7,stroke:#2eb67d
    style Meta fill:#f5e1ff,stroke:#b453b6
    style Outputs fill:#f0f0f0,stroke:#888

```

---

### è©³ç´°ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

å„ãƒãƒ¼ãƒ‰é–“ã§ã©ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ãŒå—ã‘æ¸¡ã•ã‚Œã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ãã®ã‹ã€ãã®èˆå°è£ã‚’å¯è¦–åŒ–ã—ã¾ã—ãŸã€‚

```mermaid
sequenceDiagram
    participant CLI as CLI (TyperçµŒç”±)
    participant Fetch as fetch_articles
    participant Audio as generate_audio_assets
    participant Visual as generate_visual_assets
    participant Video as create_video
    participant Meta as generate_youtube_metadata

    CLI->>Fetch: æŒ‡å®šã—ãŸæ—¥ä»˜ã®è¨˜äº‹ã‚’å‡¦ç†
    Fetch->>Fetch: Markdownã‚’è§£æãƒ»å‹•ç”»ç”¨è¦ç´„ã‚’ç”Ÿæˆ
    Fetch-->>Audio: è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ / è¦ç´„ãƒ†ã‚­ã‚¹ãƒˆ
    Audio->>Audio: Azure Speechã§ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³(WAV)+å­—å¹•(SBV)ç”Ÿæˆ
    Audio-->>Visual: éŸ³å£°ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’Stateã«è¨˜éŒ²
    Visual->>Visual: GPT-4ã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä½œæˆâ†’FLUXã§ç”»åƒç”Ÿæˆ
    Visual-->>Video: ç”Ÿæˆç”»åƒã®ãƒ‘ã‚¹ã‚’å…±æœ‰
    Video->>Video: MoviePyã§éŸ³å£°ãƒ»æ˜ åƒã‚’åˆæˆã—MP4å‡ºåŠ›
    Video-->>Meta: å‹•ç”»ãƒ‘ã‚¹ãƒ»æœ€çµ‚æ§‹æˆãƒ‡ãƒ¼ã‚¿
    Meta->>Meta: YouTubeæŠ•ç¨¿ç”¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆ
    Meta-->>CLI: ã™ã¹ã¦ã®ç”Ÿæˆç‰©ã®ãƒ‘ã‚¹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¿”å´

```

---

### AIé€£æºã®ä»•çµ„ã¿ï¼ˆå†…éƒ¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼‰

å„ãƒãƒ¼ãƒ‰ã®å†…éƒ¨ã§ã¯ã€è¤‡æ•°ã®AIãƒ¢ãƒ‡ãƒ«ãŒã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚Œã¦ã„ã¾ã™ã€‚ç‰¹ã«ç”»åƒã¨éŸ³å£°ã®ç”Ÿæˆã¯ã€LangGraphã®çŠ¶æ…‹ç®¡ç†ã«ã‚ˆã£ã¦ä¸æ•´åˆãŒèµ·ããªã„ã‚ˆã†åˆ¶å¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚

```mermaid
sequenceDiagram
    Note over LangGraph: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é–‹å§‹
    GPT4-->>LangGraph: ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ã‚’ç¢ºå®š

    par ç”Ÿæˆãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿè¡Œ
        LangGraph->>AzureTTS: éŸ³å£°åˆæˆã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
        AzureTTS-->>LangGraph: WAVãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›
    and
        LangGraph->>GPT4: æ˜ åƒç”¨ç”»åƒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ä½œæˆ
        GPT4-->>LangGraph: æç”»æŒ‡ç¤ºæ›¸
        LangGraph->>FLUX: ç”»åƒç”Ÿæˆã‚’å®Ÿè¡Œ
        FLUX-->>LangGraph: é«˜è§£åƒåº¦PNGãƒ•ã‚¡ã‚¤ãƒ«
    end

    LangGraph->>MoviePy: å…¨ç´ æã®åˆæˆæŒ‡ç¤º
    MoviePy-->>LangGraph: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨MP4å‹•ç”»
    LangGraph-->>User: ã€Œå‹•ç”»ç´ æãƒ‘ãƒƒã‚¯ã€ãŒå®Œæˆï¼

    Note over User: ã“ã“ã‹ã‚‰ã¯Canvaã®å‡ºç•ª
    User->>User: å­—å¹•ãƒ»BGMãƒ»SEã‚’è¼‰ã›ã¦ã‚¯ã‚ªãƒªãƒ†ã‚£UP
    User->>User: YouTube Shortsã¸æŠ•ç¨¿å®Œäº†ï¼

```

ã“ã®ã‚ˆã†ã«ã€**AIãŒå¾—æ„ãªç”Ÿæˆ**ã¨**äººé–“ãŒã“ã ã‚ã‚‹ã¹ãç·¨é›†**ã®å¢ƒç•Œç·šã‚’æ˜ç¢ºã«å¼•ãã“ã¨ã§ã€åœ§å€’çš„ãªç”Ÿç”£æ€§ã¨ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’ä¸¡ç«‹ã•ã›ã¦ã„ã¾ã™ã€‚


## 5. é–‹ç™ºã®èˆå°è£ï¼šç›´é¢ã—ãŸ4ã¤ã®èª²é¡Œã¨ã€Œå®Ÿç”¨çš„ã€ãªè§£æ±ºç­–

ç†è«–é€šã‚Šã«ã¯ã„ã‹ãªã„ã®ãŒã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã®å¸¸ã§ã™ã€‚ã“ã“ã§ã¯ã€ç§ãŒå®Ÿéš›ã«ç›´é¢ã—ãŸã€Œå£ã€ã¨ã€ãã‚Œã‚’ã©ã†ä¹—ã‚Šè¶ŠãˆãŸã®ã‹ã¨ã„ã†æ³¥è‡­ã„ãƒã‚¦ãƒã‚¦ã‚’å…±æœ‰ã—ã¾ã™ã€‚

### â‘  ã€Œå‹•ç”»ãŒå‹•ã‹ãªã„ã€å•é¡Œï¼šè¦–è´ç¶­æŒç‡ã‚’é«˜ã‚ã‚‹è¦–è¦šåŠ¹æœ

å½“åˆã€AIã§ç”Ÿæˆã—ãŸé™æ­¢ç”»1æšã‚’èƒŒæ™¯ã«å‹•ç”»ã‚’ä½œã‚Šã¾ã—ãŸãŒã€1åˆ†é–“ãšã£ã¨åŒã˜çµµé¢ãŒç¶šãã®ã¯ã‚ã¾ã‚Šã«é€€å±ˆã§ã—ãŸã€‚

**ã€è§£æ±ºç­–ã€‘**
é™æ­¢ç”»ã®ä½¿ç”¨ã¯å†’é ­5ç§’ã®ã€Œã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã€ã«é™å®šã€‚ãã®å¾Œã¯ãƒ•ãƒªãƒ¼ç´ æã®å‹•ç”»ã‚¯ãƒªãƒƒãƒ—ã¸åˆ‡ã‚Šæ›¿ãˆã‚‹ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ–¹å¼ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚ã•ã‚‰ã«ã€MoviePyã®ã€Œã‚ºãƒ¼ãƒ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã€ã‚’å®Ÿè£…ã—ã€é™æ­¢ç”»ã«ã‚‚ç·©ã‚„ã‹ãªå‹•ãã‚’ä¸ãˆã¦ã„ã¾ã™ã€‚

```python
# ã˜ã‚ã˜ã‚ã¨æ‹¡å¤§ã™ã‚‹ã‚ºãƒ¼ãƒ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®å®Ÿè£…ä¾‹
def zoom_factor(t, total=duration):
    # æ™‚é–“ã®çµŒéã¨ã¨ã‚‚ã«1.0ã‹ã‚‰1.05å€ã¾ã§æ‹¡å¤§
    return 1 + 0.05 * (t / max(total, 0.001))

# ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®é©ç”¨
base_image = base_image.with_effects([Resize(new_size=zoom_factor)])

```

ã“ã®ã‚ãšã‹ãªã€Œå¯„ã‚Šã€ã®å‹•ããŒã‚ã‚‹ã ã‘ã§ã€è¦–è´è€…ã®é›¢è„±ç‡ãŒåŠ‡çš„ã«æ”¹å–„ã—ã¾ã—ãŸã€‚

### â‘¡ å­—å¹•ã®å£ï¼šæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®åˆ¶ç´„

å½“åˆã¯Pythonå´ã§å®Œç’§ã«å­—å¹•ã¾ã§ç„¼ãè¾¼ã‚€äºˆå®šã§ã—ãŸãŒã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆMoviePyï¼‰ã¨OSç’°å¢ƒï¼ˆImageMagickï¼‰ã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã‚‹ã€Œæ—¥æœ¬èªã®æ–‡å­—åŒ–ã‘ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œã€ã«æ‚©ã¾ã•ã‚Œã¾ã—ãŸã€‚

**ã€è§£æ±ºç­–ã€‘**
ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ç„¡ç†ã‚’ã—ãªã„ã€ã¨ã„ã†åˆ¤æ–­ã‚’ä¸‹ã—ã¾ã—ãŸã€‚å‹•ç”»è‡ªä½“ã¯å­—å¹•ãªã—ã§æ›¸ãå‡ºã—ã€ä»£ã‚ã‚Šã«**ã‚¿ã‚¤ãƒ ã‚³ãƒ¼ãƒ‰ä»˜ãã®å­—å¹•ç”¨ãƒ†ã‚­ã‚¹ãƒˆï¼ˆSBVå½¢å¼ï¼‰**ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ä»•æ§˜ã«å¤‰æ›´ã€‚ã“ã‚Œã‚’Canvaç­‰ã«æŒã¡è¾¼ã‚€ã“ã¨ã§ã€ãƒ•ã‚©ãƒ³ãƒˆã®è‡ªç”±åº¦ã¨é«˜ã„ãƒ‡ã‚¶ã‚¤ãƒ³æ€§ã‚’ç¢ºä¿ã—ã¤ã¤ã€ç·¨é›†ã®æ‰‹é–“ã‚’æœ€å°é™ã«æŠ‘ãˆã¦ã„ã¾ã™ã€‚

### â‘¢ ã‚³ã‚¹ãƒˆã®å£ï¼šAIå‹•ç”»ç”Ÿæˆã®ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆ

Runwayã‚„Pikaã¨ã„ã£ãŸAIå‹•ç”»ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹ã¯å¼·åŠ›ã§ã™ãŒã€1è¨˜äº‹ã”ã¨ã«æ•°åå††ã€œæ•°ç™¾å††ã®ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚Šã¾ã™ã€‚æ¯æ—¥è¤‡æ•°æœ¬æŠ•ç¨¿ã™ã‚‹ã¨ãªã‚‹ã¨ã€å€‹äººé–‹ç™ºãƒ¬ãƒ™ãƒ«ã§ã¯äºˆç®—ã‚ªãƒ¼ãƒãƒ¼ã§ã—ãŸã€‚

**ã€è§£æ±ºç­–ã€‘**
é«˜ä¾¡ãªã€ŒAIå‹•ç”»ç”Ÿæˆã€ã‹ã‚‰ã€é«˜å“è³ªãªã€ŒAIç”»åƒç”Ÿæˆï¼ˆFLUXï¼‰ã€ã¸ã‚¹ã‚¤ãƒƒãƒã€‚å‹•ãã¯å‰è¿°ã®ã€Œã‚ºãƒ¼ãƒ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã€ã¨ã€Œãƒ•ãƒªãƒ¼ç´ æå‹•ç”»ã€ã§è£œå®Œã™ã‚‹ã“ã¨ã§ã€**ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’ç¶­æŒã—ãŸã¾ã¾ã€ã‚³ã‚¹ãƒˆã‚’ç´„1/10ã¾ã§åœ§ç¸®**ã™ã‚‹ã“ã¨ã«æˆåŠŸã—ã¾ã—ãŸã€‚

### â‘£ ã€Œèª­ã¿ä¸Šã’ã€ã®é•å’Œæ„Ÿï¼šURLã‚„è¨˜å·ã®ãƒã‚¤ã‚ºå¯¾ç­–

è¨˜äº‹ã®å†’é ­500æ–‡å­—ã‚’ãã®ã¾ã¾Azure TTSï¼ˆéŸ³å£°åˆæˆï¼‰ã«æµã—è¾¼ã‚€ã¨ã€URLã®ã€Œã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã€ã‚„ã€Œãƒ‰ãƒƒãƒˆã€ã€ã‚ã‚‹ã„ã¯ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¾ã§å¾‹å„€ã«èª­ã¿ä¸Šã’ã¦ã—ã¾ã„ã€éå¸¸ã«èãè‹¦ã—ã„ã‚‚ã®ã«ãªã‚Šã¾ã—ãŸã€‚

**ã€è§£æ±ºç­–ã€‘**
ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å°‚ç”¨ã®ã€Œè¦ç´„ã‚¹ãƒ†ãƒƒãƒ—ã€ã‚’ç‹¬ç«‹ã•ã›ã¾ã—ãŸã€‚GPT-4ã«å¯¾ã—ã€ä»¥ä¸‹ã®æŒ‡ç¤ºã‚’å¾¹åº•ã—ã¦ã„ã¾ã™ã€‚

* URLã€è¨˜å·ã€ä¸è¦ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®å®Œå…¨é™¤å»ã€‚
* æ›¸ãè¨€è‘‰ã‹ã‚‰ã€Œè¦ªã—ã¿ã‚„ã™ã„è©±ã—è¨€è‘‰ã€ã¸ã®ãƒˆãƒ¼ãƒ³å¤‰æ›ã€‚
* Shortsã®å°ºã«åã¾ã‚‹ã‚ˆã†ã€500æ–‡å­—ä»¥å†…ã§æƒ…å ±ã‚’å‡ç¸®ã€‚

ã“ã®ã€Œãƒ¯ãƒ³ã‚¯ãƒƒã‚·ãƒ§ãƒ³ã€ã‚’ç½®ãã“ã¨ã§ã€ã¾ã‚‹ã§äººé–“ãŒèª­ã¿ä¸Šã’ã¦ã„ã‚‹ã‹ã®ã‚ˆã†ãªã‚¹ãƒ ãƒ¼ã‚ºãªãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚


## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ã¾ãšã¯ã€é–‹ç™ºç’°å¢ƒã®æº–å‚™ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®éª¨æ ¼ã‚’ä½œã‚Šã¾ã™ã€‚

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ

```bash
mkdir news-article
cd news-article
uv init
uv venv
uv add azure-cognitiveservices-speech dotenv langchain langgraph openai langchain_openai moviepy typer
mkdir article movie output
touch config.py state.py nodes.py graph.py main.py
```

ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã®æ„å‘³ã‚’ç†è§£ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚`article/`ã«ã¯å¤‰æ›å…ƒã®è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`YYYYMMDD_ã‚¿ã‚¤ãƒˆãƒ«.md`å½¢å¼ï¼‰ã‚’é…ç½®ã—ã¾ã™ã€‚`movie/`ã«ã¯ãƒ•ãƒªãƒ¼ç´ æå‹•ç”»ã‚’é…ç½®ã—ã¾ã™ã€‚`output/`ã«ã¯ç”Ÿæˆã•ã‚ŒãŸå‹•ç”»ãƒ»éŸ³å£°ãƒ»ç”»åƒãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

æœ‰æ–™è¨˜äº‹ã®èª­è€…ãŒè¿·ã‚ãªã„ã‚ˆã†ã€**Azure Portalã®å®Ÿéš›ã®æ“ä½œç”»é¢ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã‚‹æ§‹æˆ**ã§ãƒªãƒ©ã‚¤ãƒˆã—ã¾ã—ãŸã€‚

## Azure Portalã§ã®ãƒªã‚½ãƒ¼ã‚¹æ§‹ç¯‰æ‰‹é †

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€Microsoft Azureã®å¼·åŠ›ãªAIæ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã—ã¾ã™ã€‚ã¾ãšã¯Azure Portalã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ä»¥ä¸‹ã®3ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã§åŸºç›¤ã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šAzure OpenAI Service ã®ä½œæˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆãƒ»ç”»åƒç”Ÿæˆï¼‰

ã¾ãšã¯ã€çŸ¥èƒ½ã‚’å¸ã‚‹GPT-4oã¨ã€è¦–è¦šã‚’å¸ã‚‹FLUXï¼ˆã¾ãŸã¯DALL-E 3ï¼‰ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

1. **ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆ**: Azure Portalã§ã€ŒAzure OpenAIã€ã‚’æ¤œç´¢ã—ã€ä½œæˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
2. **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®é¸æŠ**: **`East US`ï¼ˆç±³å›½æ±éƒ¨ï¼‰**ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚
* *Tip: æœ€æ–°ãƒ¢ãƒ‡ãƒ«ãŒå…ˆè¡ŒæŠ•å…¥ã•ã‚Œã‚„ã™ãã€ã‚³ã‚¹ãƒˆåŠ¹ç‡ã‚‚è‰¯ã„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã™ã€‚*


3. **ãƒ¢ãƒ‡ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤**:
* ãƒªã‚½ãƒ¼ã‚¹ä½œæˆå¾Œã€ã€ŒAzure AI Foundryï¼ˆæ—§ Studioï¼‰ã€ã«ç§»å‹•ã—ã¾ã™ã€‚
* ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€`gpt-4o`ï¼ˆæ–‡ç« ç”¨ï¼‰ã¨ `FLUX.1-pro`ï¼ˆç”»åƒç”¨ï¼‰ã‚’ãã‚Œãã‚Œãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€**ãƒ‡ãƒ—ãƒ­ã‚¤å**ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚


### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šSpeech Service ã®ä½œæˆï¼ˆãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼‰

æ¬¡ã«ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’è‡ªç„¶ãªæ—¥æœ¬èªéŸ³å£°ã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

1. **ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆ**: Portalã§ã€ŒSpeech Servicesï¼ˆéŸ³å£°ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ã€ã‚’æ¤œç´¢ã—ã€ä½œæˆã—ã¾ã™ã€‚
2. **è¨­å®š**: ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯OpenAIã¨åˆã‚ã›ã¦ `East US` ã«ã—ã¦ãŠãã¨ç®¡ç†ãŒã‚¹ãƒ ãƒ¼ã‚ºã§ã™ã€‚
3. **éŸ³å£°ã®é¸å®š**: æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€æœ€ã‚‚è¡¨ç¾åŠ›ãŒè±Šã‹ãª **`ja-JP-NanamiNeural`** ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šæ¥ç¶šæƒ…å ±ã®å–å¾—ã¨ç’°å¢ƒè¨­å®šï¼ˆ.envï¼‰

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ã“ã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‘¼ã³å‡ºã™ãŸã‚ã®ã€Œéµï¼ˆAPIã‚­ãƒ¼ï¼‰ã€ã‚’å–å¾—ã—ã¾ã™ã€‚

1. å„ãƒªã‚½ãƒ¼ã‚¹ã®ç®¡ç†ç”»é¢ã«ã‚ã‚‹**ã€Œã‚­ãƒ¼ã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ãã¾ã™ã€‚
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆç›´ä¸‹ã« `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æƒ…å ±ã‚’æ›¸ãè¾¼ã¿ã¾ã™ã€‚

```bash
# --- Azure OpenAI (ãƒ†ã‚­ã‚¹ãƒˆãƒ»ç”»åƒ) ---
# ã€ŒAzure OpenAIã€ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰å–å¾—
AZURE_TEXT_API_KEY=ã‚ãªãŸã®ã‚­ãƒ¼1
AZURE_TEXT_ENDPOINT=https://ã‚ãªãŸã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ.openai.azure.com/

# --- Azure AI Speech (éŸ³å£°) ---
# ã€ŒéŸ³å£°ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰å–å¾—
AZURE_SPEECH_KEY=ã‚ãªãŸã®éŸ³å£°ã‚­ãƒ¼1
AZURE_SPEECH_ENDPOINT=https://eastus.api.cognitive.microsoft.com/
AZURE_SPEECH_REGION=eastus

# --- ãƒ¢ãƒ‡ãƒ«ãƒ‡ãƒ—ãƒ­ã‚¤å ---
# AI Foundryã§è¨­å®šã—ãŸãƒ‡ãƒ—ãƒ­ã‚¤åã‚’æŒ‡å®š
AZURE_DEPLOYMENT_TEXT=gpt-4o
AZURE_DEPLOYMENT_IMAGE=flux-pro

```


### ğŸ’¡ é‹ç”¨ã®ãƒã‚¤ãƒ³ãƒˆ

* **ã‚¯ã‚©ãƒ¼ã‚¿ï¼ˆå‰²ã‚Šå½“ã¦ï¼‰ã®ç¢ºèª**: Azure OpenAIã®å„ãƒ¢ãƒ‡ãƒ«ã«ã¯ã€Œãƒˆãƒ¼ã‚¯ãƒ³æ¯åˆ† (TPM)ã€ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚åˆæœŸè¨­å®šã§ã¯ä½ã‚ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆãŒã‚ã‚‹ãŸã‚ã€è¤‡æ•°ã®è¨˜äº‹ã‚’ä¸€åº¦ã«å›ã™éš›ã¯ã€Œã‚¯ã‚©ãƒ¼ã‚¿ã€ç”»é¢ã‹ã‚‰ä¸Šé™ã‚’ç¢ºèªãƒ»èª¿æ•´ã—ã¦ãã ã•ã„ã€‚
* **ã‚³ã‚¹ãƒˆç®¡ç†**: Azure Portalã®ã€Œã‚³ã‚¹ãƒˆã®åˆ†æã€ã‹ã‚‰ã€ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã®åˆ©ç”¨æ–™é‡‘ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã§ãã¾ã™ã€‚æœ€åˆã¯ç„¡æ–™æ ã‚„å°‘é¡ã®ãƒ†ã‚¹ãƒˆã‹ã‚‰å§‹ã‚ã‚‹ã“ã¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚


**ã“ã‚Œã§ã€AIã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ç¹‹ãã€Œç¥çµŒã€ãŒé€šã‚Šã¾ã—ãŸã€‚æ¬¡ã¯ã€ã„ã‚ˆã„ã‚ˆLangGraphã«ã‚ˆã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè£…ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚**

## config.pyï¼ˆè¨­å®šç®¡ç†ï¼‰

ã‚·ã‚¹ãƒ†ãƒ ã®å¿ƒè‡“éƒ¨ã§ã‚ã‚‹AIãƒ¢ãƒ‡ãƒ«ã‚„å„ç¨®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®ãƒ‘ã‚¹ã¯ã€`config.py`ã§ä¸€å…ƒç®¡ç†ã—ã¾ã™ã€‚
ã“ã“ã§ã¯ã€å˜ã«ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã‚€ã ã‘ã§ãªãã€Azureç‰¹æœ‰ã®è¤‡é›‘ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã‚’è‡ªå‹•ã§è§£æï¼ˆãƒ‘ãƒ¼ã‚¹ï¼‰ã—ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒæ‰±ã„ã‚„ã™ã„å½¢ã«æ•´å½¢ã™ã‚‹å·¥å¤«ã‚’æ–½ã—ã¦ã„ã¾ã™ã€‚

### è¨­å®šç®¡ç†ã‚³ãƒ¼ãƒ‰ (`config.py`)

```python
import os
from dotenv import load_dotenv

# .envãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚’ä¸€æ‹¬èª­ã¿è¾¼ã¿
load_dotenv()

def _split_endpoint(endpoint: str | None) -> tuple[str | None, str | None]:
    """
    Azureã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã‹ã‚‰ãƒ™ãƒ¼ã‚¹URLã¨APIãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è‡ªå‹•æŠ½å‡ºãƒ»æ­£è¦åŒ–ã™ã‚‹ã€‚
    ãƒãƒ¼ã‚¿ãƒ«ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãŸè¤‡é›‘ãªURLã§ã‚‚ã€å®‰å…¨ã«æ‰±ãˆã‚‹ã‚ˆã†ã«æ•´å½¢ã—ã¾ã™ã€‚
    """
    if not endpoint:
        return None, None

    base = endpoint.strip()
    if not base:
        return None, None

    api_version = None
    # URLã«api-versionãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯æŠ½å‡º
    if "api-version=" in base:
        api_version = base.split("api-version=")[-1].split("&")[0].strip()

    # ä¸è¦ãªã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ãƒ‘ã‚¹ã‚’å‰Šãè½ã¨ã—ã€ãƒ™ãƒ¼ã‚¹URLã®ã¿ã‚’æŠ½å‡º
    base = base.split("?")[0]
    if "/openai/" in base:
        base = base.split("/openai/")[0]

    # æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’ä»˜ä¸ã—ã¦æ­£è¦åŒ–
    normalized = base.rstrip("/") + "/"
    return normalized, api_version

# å„ç¨®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ­£è¦åŒ–å‡¦ç†
_raw_text_endpoint = os.getenv("AZURE_TEXT_ENDPOINT")
_text_endpoint, _text_version = _split_endpoint(_raw_text_endpoint)

_raw_image_endpoint = os.getenv("AZURE_IMAGE_ENDPOINT")
_image_endpoint, _image_version = _split_endpoint(_raw_image_endpoint)

class Config:
    """
    ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®è¨­å®šã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ã€‚
    å„ãƒãƒ¼ãƒ‰ã¯ã“ã®ã‚¯ãƒ©ã‚¹ã‚’é€šã˜ã¦å‹å®‰å…¨ã«è¨­å®šå€¤ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚
    """
    # --- Azure OpenAI (ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ) ---
    AZURE_TEXT_API_KEY = os.getenv("AZURE_TEXT_API_KEY")
    AZURE_TEXT_ENDPOINT = _text_endpoint
    AZURE_TEXT_API_VERSION = os.getenv("AZURE_TEXT_API_VERSION", _text_version or "2024-02-01-preview")
    AZURE_OPENAI_DEPLOYMENT_NAME = "gpt-4o"

    # --- Azure AI Speech (éŸ³å£°åˆæˆ) ---
    AZURE_SPEECH_KEY = os.getenv("AZURE_SPEECH_KEY")
    AZURE_SPEECH_ENDPOINT = os.getenv("AZURE_SPEECH_ENDPOINT")
    AZURE_SPEECH_REGION = os.getenv("AZURE_SPEECH_REGION")

    # --- Azure Image (ç”»åƒç”Ÿæˆ: FLUX.1) ---
    AZURE_IMAGE_API_KEY = os.getenv("AZURE_IMAGE_KEY")
    AZURE_IMAGE_ENDPOINT = _image_endpoint
    AZURE_IMAGE_API_VERSION = os.getenv("AZURE_IMAGE_API_VERSION", _image_version or "2023-12-01-preview")
    AZURE_IMAGE_DEPLOYMENT_NAME = "FLUX.1-pro"

    # --- ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ»ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š ---
    ARTICLE_DIR = "./article"   # ãƒ‹ãƒ¥ãƒ¼ã‚¹åŸç¨¿ã®æ ¼ç´å…ˆ
    OUTPUT_DIR = "./output"     # ç”Ÿæˆç‰©ã®å‡ºåŠ›å…ˆ
    MOVIE_DIR = "./movie"       # ãƒ•ãƒªãƒ¼ç´ æå‹•ç”»ã®æ ¼ç´å…ˆ
    JP_FONT_PATH = os.getenv("JP_FONT_PATH") # æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã¸ã®ãƒ‘ã‚¹

```

### ã“ã®ã‚³ãƒ¼ãƒ‰ã®ã€Œãƒ—ãƒ­ã®ã“ã ã‚ã‚Šã€ãƒã‚¤ãƒ³ãƒˆ

#### 1. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®è‡ªå‹•æ­£è¦åŒ– (`_split_endpoint`)

Azure Portalã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã¯ã€æœ«å°¾ã« `/openai/` ãŒä»˜ã„ã¦ã„ãŸã‚Šã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ãŸã‚Šã¨å½¢å¼ãŒãƒãƒ©ãƒãƒ©ãªã“ã¨ãŒå¤šã„ã§ã™ã€‚
ã“ã®é–¢æ•°ã‚’é€šã™ã“ã¨ã§ã€**ã€Œã©ã‚“ãªå½¢å¼ã§ã‚³ãƒ”ãƒ¼ã—ã¦ã‚‚æ­£ã—ãå‹•ä½œã™ã‚‹ã€**å …ç‰¢ãªã‚·ã‚¹ãƒ†ãƒ ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç’°å¢ƒæ§‹ç¯‰æ™‚ã®ã‚±ã‚¢ãƒ¬ã‚¹ãƒŸã‚¹ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã‚’æœªç„¶ã«é˜²ãã¾ã™ã€‚

#### 2. Configã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹ä¸€å…ƒç®¡ç†

è¨­å®šå€¤ã‚’ãƒãƒ©ãƒãƒ©ãªå¤‰æ•°ã¨ã—ã¦æ‰±ã‚ãšã€`Config`ã‚¯ãƒ©ã‚¹ã«é›†ç´„ã—ã¾ã—ãŸã€‚

* **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§**: æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã¸ã®åˆ‡ã‚Šæ›¿ãˆã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®å¤‰æ›´ã‚‚ã€ã“ã®ã‚¯ãƒ©ã‚¹1ç®‡æ‰€ã‚’ä¿®æ­£ã™ã‚‹ã ã‘ã§å®Œäº†ã—ã¾ã™ã€‚
* **å®‰å…¨æ€§**: ç’°å¢ƒå¤‰æ•°ãŒæœªè¨­å®šã®å ´åˆã§ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠã‚Šã€å®Ÿè¡Œæ™‚ã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’å›é¿ã—ã¾ã™ã€‚

#### 3. å°†æ¥çš„ãªæ‹¡å¼µæ€§

`JP_FONT_PATH` ãªã©ã®OSä¾å­˜ã®è¨­å®šã‚‚ç’°å¢ƒå¤‰æ•°çµŒç”±ã§èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ã—ã¦ãŠã‚Šã€Windowsã€Macã€Linuxï¼ˆDockerç’°å¢ƒï¼‰ã®ã©ã“ã§ã‚‚ã€`.env`ã‚’æ›¸ãæ›ãˆã‚‹ã ã‘ã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

---

**åŸºç›¤ã¨ãªã‚‹è¨­å®šç®¡ç†ãŒã§ãã¾ã—ãŸã€‚æ¬¡ã¯ã€ã„ã‚ˆã„ã‚ˆLangGraphã®æœ¬é ˜ç™ºæ®ã§ã‚ã‚‹ã€Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆStateï¼‰ã€ã®è¨­è¨ˆã«é€²ã¿ã¾ã™ã€‚**

æœ‰æ–™è¨˜äº‹ã®ã€ŒæŠ€è¡“è§£èª¬ï¼šãƒ‡ãƒ¼ã‚¿è¨­è¨ˆç·¨ã€ã¨ã—ã¦ã€èª­è€…ãŒã€Œãªãœã“ã®è¨­è¨ˆãŒå„ªã‚Œã¦ã„ã‚‹ã®ã‹ã€ã‚’æ·±ãç†è§£ã—ã€è‡ªèº«ã®é–‹ç™ºã«ã‚‚å¿œç”¨ã—ãŸããªã‚‹ã‚ˆã†ãªãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒˆãƒ¼ãƒ³ã§ãƒªãƒ©ã‚¤ãƒˆã—ã¾ã—ãŸã€‚

---

## çŠ¶æ…‹ç®¡ç†ã®å®šç¾© (state.py)

LangGraphã‚’ç”¨ã„ãŸé–‹ç™ºã«ãŠã„ã¦ã€æœ€ã‚‚é‡è¦ãªã®ãŒ**ã€ŒStateï¼ˆçŠ¶æ…‹ï¼‰ã€ã®è¨­è¨ˆ**ã§ã™ã€‚ãƒãƒ¼ãƒ‰é–“ã§ã©ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ãŒå—ã‘æ¸¡ã•ã‚Œã‚‹ã®ã‹ã‚’å³å¯†ã«å®šç¾©ã™ã‚‹ã“ã¨ã§ã€è¤‡é›‘ãªè‡ªå‹•åŒ–ãƒ•ãƒ­ãƒ¼ã‚’è¿·å­ã«ãªã‚‰ãšã«æ§‹ç¯‰ã§ãã¾ã™ã€‚

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€Pythonã® `TypedDict` ã‚’æ´»ç”¨ã—ã€å„ãƒ—ãƒ­ã‚»ã‚¹ã§ç”Ÿæˆã•ã‚Œã‚‹éŸ³å£°ãƒ»ç”»åƒãƒ»å‹•ç”»ã®ãƒ‘ã‚¹ã‚„ã€è¨˜äº‹ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€å…ƒç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

### çŠ¶æ…‹ç®¡ç†ã®å®šç¾© (`state.py`)

```python
from typing import TypedDict

class ArticleData(TypedDict):
    """å€‹åˆ¥ã®è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹æ§‹é€ ä½“"""
    title: str          # å…ƒè¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«
    display_title: str  # å‹•ç”»ç”¨ã«æœ€é©åŒ–ã•ã‚ŒãŸè¡¨ç¤ºã‚¿ã‚¤ãƒˆãƒ«
    content: str        # è¨˜äº‹ã®æœ¬æ–‡ï¼ˆè¦ç´„å¾Œï¼‰
    date: str           # è¨˜äº‹ã®æ—¥ä»˜

class AgentState(TypedDict):
    """
    ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã§å…±æœ‰ã•ã‚Œã‚‹ã€ŒçŠ¶æ…‹ã€ã®å®šç¾©ã€‚
    å„ãƒãƒ¼ãƒ‰ã¯ã“ã®Stateã‚’èª­ã¿æ›¸ãã—ãªãŒã‚‰å‡¦ç†ã‚’é€²ã‚ã¾ã™ã€‚
    """
    start_date: str                 # å‡¦ç†å¯¾è±¡ã®é–‹å§‹æ—¥
    end_date: str                   # å‡¦ç†å¯¾è±¡ã®çµ‚äº†æ—¥
    run_output_dir: str             # ä»Šå›ã®å®Ÿè¡Œçµæœã‚’ä¿å­˜ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    single_article_path: str | None # ç‰¹å®šã®è¨˜äº‹ã®ã¿ã‚’å‡¦ç†ã™ã‚‹å ´åˆã®ãƒ‘ã‚¹

    # å„å·¥ç¨‹ã§ç”Ÿæˆãƒ»è“„ç©ã•ã‚Œã‚‹ã‚¢ã‚»ãƒƒãƒˆ
    articles: list[ArticleData]     # èª­ã¿è¾¼ã¾ã‚ŒãŸå…¨è¨˜äº‹ã®ãƒªã‚¹ãƒˆ
    audio_paths: list[str]          # ç”Ÿæˆã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«(.wav)ã®ãƒ‘ã‚¹ä¸€è¦§
    image_paths: list[str]          # ç”Ÿæˆã•ã‚ŒãŸç”»åƒãƒ•ã‚¡ã‚¤ãƒ«(.png)ã®ãƒ‘ã‚¹ä¸€è¦§
    script_paths: list[str]         # ç”Ÿæˆã•ã‚ŒãŸå­—å¹•ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ(.sbv)ã®ãƒ‘ã‚¹ä¸€è¦§

    # æœ€çµ‚æˆæœç‰©ã®æƒ…å ±
    thumbnail_path: str | None      # ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ä¿å­˜ãƒ‘ã‚¹
    thumbnail_title: str | None     # ã‚µãƒ ãƒã‚¤ãƒ«ã«è¨˜è¼‰ã™ã‚‹ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼
    video_path: str | None          # çµ±åˆã•ã‚ŒãŸå‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«(.mp4)ã®ãƒ‘ã‚¹
    youtube_metadata_path: str | None # YouTubeæŠ•ç¨¿ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ãƒ‘ã‚¹

    error: str | None               # ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ ¼ç´ç”¨

```

### ã“ã®è¨­è¨ˆãŒã‚‚ãŸã‚‰ã™3ã¤ã®æŠ€è¡“çš„ãƒ¡ãƒªãƒƒãƒˆ

#### 1. é–‹ç™ºåŠ¹ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹ã€Œå‹è£œå®Œã€

`TypedDict` ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã§ã€VS Codeãªã©ã®ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§å¼·åŠ›ãªè‡ªå‹•è£œå®Œï¼ˆIntelliSenseï¼‰ãŒåŠ¹ãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã€Œã‚ã®å¤‰æ•°ã®åå‰ã¯ä½•ã ã£ãŸã‹ãªï¼Ÿã€ã¨ã‚³ãƒ¼ãƒ‰ã‚’è¡Œã£ãŸã‚Šæ¥ãŸã‚Šã™ã‚‹æ™‚é–“ãŒæ¿€æ¸›ã—ã€ã‚¿ã‚¤ãƒã«ã‚ˆã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã‚’æœªç„¶ã«é˜²ã’ã¾ã™ã€‚

#### 2. ã€Œå˜ä¸€è²¬ä»»ã®åŸå‰‡ã€ã®å¾¹åº•

`AgentState` ã®è¨­è¨ˆæ€æƒ³ã¯ã€**ã€Œå„ãƒãƒ¼ãƒ‰ã¯å¿…è¦ãªæƒ…å ±ã‚’Stateã‹ã‚‰å—ã‘å–ã‚Šã€è‡ªåˆ†ã®æˆæœã‚’Stateã«æ›¸ãæˆ»ã™ã ã‘ã€**ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚
ä¾‹ãˆã°ã€Œç”»åƒç”Ÿæˆãƒãƒ¼ãƒ‰ã€ã¯ã€Stateã«ã‚ã‚‹ã€Œè¨˜äº‹å†…å®¹ã€ã ã‘ã‚’è¦‹ã¦ç”»åƒã‚’ä½œã‚Šã€ãã®ãƒ‘ã‚¹ã‚’ `image_paths` ã«è¿½åŠ ã™ã‚‹ã ã‘ã§å®Œçµã—ã¾ã™ã€‚ã“ã®ç–çµåˆãªè¨­è¨ˆã«ã‚ˆã‚Šã€ç‰¹å®šã®ãƒãƒ¼ãƒ‰ã ã‘ã‚’ä¸¦åˆ—åŒ–ã—ãŸã‚Šã€å¾Œã‹ã‚‰æ–°ã—ã„å·¥ç¨‹ã‚’è¿½åŠ ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒéå¸¸ã«å®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚

#### 3. éšœå®³è¿½è·¡ã¨ãƒªãƒˆãƒ©ã‚¤ã®å®¹æ˜“æ€§

Stateã‚’è¦‹ã‚Œã°ã€Œç¾åœ¨ã©ã®ãƒ‡ãƒ¼ã‚¿ãŒç”Ÿæˆæ¸ˆã¿ã§ã€ã©ã“ã§æ­¢ã¾ã£ã¦ã„ã‚‹ã®ã‹ã€ãŒå®Œç’§ã«æŠŠæ¡ã§ãã¾ã™ã€‚ã“ã‚Œã¯æœ¬ç•ªç’°å¢ƒã§ã®é‹ç”¨ã«ãŠã„ã¦ã€ã‚¨ãƒ©ãƒ¼æ™‚ã®åŸå› ç©¶æ˜ã‚„ã€å¤±æ•—ã—ãŸå·¥ç¨‹ã‹ã‚‰ã®éƒ¨åˆ†çš„ãªå†å®Ÿè¡Œï¼ˆãƒ¬ã‚¸ãƒ¥ãƒ¼ãƒ æ©Ÿèƒ½ï¼‰ã‚’å®Ÿè£…ã™ã‚‹éš›ã®å¼·åŠ›ãªæ­¦å™¨ã¨ãªã‚Šã¾ã™ã€‚

---

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒå®šç¾©ã§ãã¾ã—ãŸã€‚æ¬¡ã¯ã„ã‚ˆã„ã‚ˆã€ã“ã‚Œã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’åŠ å·¥ã™ã‚‹ã€Œå„ãƒãƒ¼ãƒ‰ã®å®Ÿè£…ã€ã¨ã„ã†æœ¬ä¸¸ã«ä¹—ã‚Šè¾¼ã¿ã¾ã™ã€‚**


### nodes.pyï¼ˆå‡¦ç†ãƒãƒ¼ãƒ‰å®Ÿè£…ï¼‰
ã„ã‚ˆã„ã‚ˆã€ã‚·ã‚¹ãƒ†ãƒ ã®å¿ƒè‡“éƒ¨ã§ã‚ã‚‹å„ãƒãƒ¼ãƒ‰ã®å®Ÿè£…ã‚’è§£èª¬ã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€LangGraphã®å„ãƒãƒ¼ãƒ‰ãŒã€Œä½•ã‚’è€ƒãˆã€ã©ã†å‹•ãã®ã‹ã€ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

å˜ãªã‚‹ã€Œä½œæ¥­ã®è‡ªå‹•åŒ–ã€ã«ç•™ã¾ã‚‰ãšã€AIã«ã‚ˆã‚‹è¦ç´„ãƒ»ç”»åƒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆãƒ»å‹•ç”»åˆæˆã¨ã„ã†ã€ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªå·¥ç¨‹ã‚’ä¸€ã¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å‡ç¸®ã—ã¦ã„ã¾ã™ã€‚

```python
import base64
import json
import os
import random
import re
from datetime import datetime
import azure.cognitiveservices.speech as speechsdk
from openai import AzureOpenAI
from moviepy.video.VideoClip import ImageClip
from moviepy.audio.io.AudioFileClip import AudioFileClip
from moviepy.audio.AudioClip import concatenate_audioclips
from moviepy.video.compositing.CompositeVideoClip import concatenate_videoclips
from moviepy.video.fx.Resize import Resize
from moviepy.video.io.VideoFileClip import VideoFileClip
from config import Config
from state import AgentState


def _log_node_output(run_dir: str, node_name: str, payload: dict):
    """å„ãƒãƒ¼ãƒ‰ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’JSONè¡Œã¨ã—ã¦ç¾åœ¨ã®å®Ÿè¡Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸è¿½è¨˜ã™ã‚‹ã€‚"""
    os.makedirs(run_dir, exist_ok=True)
    log_path = os.path.join(run_dir, "node_logs.jsonl")
    entry = {
        "timestamp": datetime.now().isoformat(timespec="seconds"),
        "node": node_name,
        "payload": payload
    }
    with open(log_path, "a", encoding="utf-8") as log_file:
        json.dump(entry, log_file, ensure_ascii=False)
        log_file.write("\n")


def _extract_title_from_content(raw_content: str, fallback: str) -> str:
    """Markdownæœ¬æ–‡ã§æœ€åˆã®éç©ºè¡Œã‚’è¦‹å‡ºã—ã¨ã—ã¦å–å¾—ã—ã€äººãŒèª­ã‚ã‚‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¿”ã™ã€‚"""
    for line in raw_content.splitlines():
        candidate = line.strip().lstrip("#").strip()
        if candidate:
            return candidate[:120]
    return fallback


text_client = AzureOpenAI(
    api_key=Config.AZURE_TEXT_API_KEY,
    api_version=Config.AZURE_TEXT_API_VERSION,
    azure_endpoint=Config.AZURE_TEXT_ENDPOINT,
    azure_deployment=Config.AZURE_OPENAI_DEPLOYMENT_NAME,
)

image_client = AzureOpenAI(
    api_key=Config.AZURE_IMAGE_API_KEY,
    api_version=Config.AZURE_IMAGE_API_VERSION,
    azure_endpoint=Config.AZURE_IMAGE_ENDPOINT,
    azure_deployment=Config.AZURE_IMAGE_DEVELOPMENT_NAME,
)

VIDEO_EXTENSIONS = (".mp4", ".mov", ".m4v", ".avi", ".webm", ".mkv")


def _list_movie_files() -> list[str]:
    """è¨­å®šæ¸ˆã¿ã®movieãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰åˆ©ç”¨å¯èƒ½ãªèƒŒæ™¯å‹•ç”»ã‚’åé›†ã™ã‚‹ã€‚"""
    movie_dir = Config.MOVIE_DIR
    if not movie_dir or not os.path.isdir(movie_dir):
        return []
    files = []
    for name in os.listdir(movie_dir):
        if name.lower().endswith(VIDEO_EXTENSIONS):
            files.append(os.path.join(movie_dir, name))
    return files


def _format_date_label(date_str: str) -> str:
    """YYYYMMDDå½¢å¼ã‚’è¡¨ç¤ºç”¨ã®YYYY/MM/DDè¡¨è¨˜ã¸å¤‰æ›ã™ã‚‹ã€‚"""
    try:
        return datetime.strptime(date_str, "%Y%m%d").strftime("%Y/%m/%d")
    except ValueError:
        return date_str


def _format_date_range_label(start: str, end: str) -> str:
    """äººãŒè¦‹ã¦åˆ†ã‹ã‚Šã‚„ã™ã„æ—¥ä»˜ãƒ¬ãƒ³ã‚¸è¡¨ç¾ã‚’ä½œæˆã™ã‚‹ã€‚"""
    start_label = _format_date_label(start)
    end_label = _format_date_label(end)
    return start_label if start == end else f"{start_label} - {end_label}"


def _clean_hashtag_text(text: str) -> str:
    """YouTubeã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’æ­£è¦åŒ–ã™ã‚‹ã€‚"""
    cleaned = re.sub(r"[#ï¼ƒ]", "", text)
    cleaned = re.sub(r"\s+", "", cleaned)
    cleaned = re.sub(r"[^\wã-ã‚“ã‚¡-ãƒ¶ä¸€-é¾¯ãƒ¼]+", "", cleaned)
    return cleaned[:20].strip()


def _extract_hashtags(articles: list[dict]) -> list[str]:
    """è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰æ´¾ç”Ÿã•ã›ãŸãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®çŸ­ã„ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€‚"""
    hashtags: list[str] = []
    for article in articles:
        candidate = article.get('display_title') or article.get('title')
        if not candidate:
            continue
        cleaned = _clean_hashtag_text(candidate)
        if not cleaned or cleaned in hashtags:
            continue
        hashtags.append(cleaned)
        if len(hashtags) >= 5:
            break

    for fallback in ("ãƒ‹ãƒ¥ãƒ¼ã‚¹", "ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»", "AIé€Ÿå ±"):
        if len(hashtags) >= 5:
            break
        if fallback not in hashtags:
            hashtags.append(fallback)

    return hashtags[:5]


def _generate_youtube_metadata(state: AgentState) -> dict:
    """ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçŠ¶æ…‹ã‹ã‚‰YouTubeå‘ã‘ã®ã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜æ–‡ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’çµ„ã¿ç«‹ã¦ã‚‹ã€‚"""
    articles = state.get('articles', [])
    range_label = _format_date_range_label(
        state['start_date'], state['end_date'])

    if articles:
        title = f"{range_label}ã®ä¸»è¦ãƒ‹ãƒ¥ãƒ¼ã‚¹TOP{len(articles)} | ã‚·ãƒ§ãƒ¼ãƒˆè§£èª¬"
        if len(articles) == 1:
            title = f"{range_label} {articles[0]['title'] } | ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚·ãƒ§ãƒ¼ãƒˆ"
    else:
        title = f"{range_label}ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ"

    description_lines = [
        f"ğŸ“… åéŒ²æœŸé–“: {range_label}",
        "",
        "ğŸ“ å–ã‚Šä¸Šã’ãŸãƒˆãƒ”ãƒƒã‚¯:"
    ]
    if articles:
        for article in articles:
            description_lines.append(
                f"- {article.get('display_title') or article['title']} ({_format_date_label(article.get('date', state['start_date']))})"
            )
    else:
        description_lines.append("- è©²å½“ã™ã‚‹è¨˜äº‹ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚")

    description = "\n".join(description_lines).strip()
    hashtags = _extract_hashtags(articles)
    if articles:
        primary = articles[0]
        base_thumb = primary.get('display_title') or primary.get('title') or ""
    else:
        base_thumb = ""
    if base_thumb:
        thumbnail_title = base_thumb[:40]
    else:
        thumbnail_title = title[:40] if title else "æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹"

    return {
        "title": title,
        "description": description,
        "hashtags": hashtags,
        "thumbnail_title": thumbnail_title
    }


def _format_timestamp(seconds: float) -> str:
    """SBVå½¢å¼ï¼ˆH:MM:SS.mmmï¼‰ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ–‡å­—åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã€‚"""
    milliseconds = max(0, int(round(seconds * 1000)))
    hours, remainder = divmod(milliseconds, 3600 * 1000)
    minutes, remainder = divmod(remainder, 60 * 1000)
    secs, millis = divmod(remainder, 1000)
    return f"{hours}:{minutes:02}:{secs:02}.{millis:03}"


def _split_sentences_for_captions(text: str) -> list[str]:
    """ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ–‡ç« ã‚’SBVãƒ•ã‚¡ã‚¤ãƒ«ã«é©ã—ãŸç²’åº¦ã¸åˆ†å‰²ã™ã‚‹ã€‚"""
    if not text:
        return []

    stripped = text.strip()
    if not stripped:
        return []

    # ã€Œã€‚ã€ã§ã®ã¿åŒºåˆ‡ã‚Šã€å¥èª­ç‚¹ã‚’ç¶­æŒã—ãŸã¾ã¾æŠ½å‡º
    sentences = [
        chunk.strip()
        for chunk in re.findall(r'[^ã€‚]+ã€‚?', stripped)
        if chunk.strip()
    ]

    return sentences or [stripped]


def _build_sbv_caption(text: str, duration: float | None) -> str:
    """æ–‡ç« ã¨æƒ³å®šå°ºã‹ã‚‰ç–‘ä¼¼ã‚¿ã‚¤ãƒŸãƒ³ã‚°ä»˜ãSBVå­—å¹•ã‚’ç”Ÿæˆã™ã‚‹ã€‚"""
    sentences = _split_sentences_for_captions(text)
    if not sentences:
        sentences = ["ï¼ˆå†…å®¹ãªã—ï¼‰"]

    total_chars = sum(len(s) for s in sentences) or 1
    total_duration = duration if duration and duration > 0 else len(
        sentences) * 3.0

    raw_durations = []
    for sentence in sentences:
        portion = max(0.8, (len(sentence) / total_chars) * total_duration)
        raw_durations.append(portion)

    scale = total_duration / \
        sum(raw_durations) if sum(raw_durations) > 0 else 1.0
    durations = [d * scale for d in raw_durations]

    lines = []
    cursor = 0.0
    for sentence, seg_duration in zip(sentences, durations):
        start_ts = _format_timestamp(cursor)
        end_ts = _format_timestamp(cursor + seg_duration)
        lines.append(f"{start_ts},{end_ts}")
        lines.append(sentence)
        lines.append("")
        cursor += seg_duration

    return "\n".join(lines).strip() + "\n"


def fetch_articles_node(state: AgentState):
    """æ—¥ä»˜ãƒ¬ãƒ³ã‚¸å†…ã®Markdownè¨˜äº‹ã‚’èª­ã¿è¾¼ã¿ã€ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã«è¦ç´„ã™ã‚‹ã€‚"""
    target_articles = []
    # ãƒ•ã‚£ãƒ«ã‚¿è¨ˆç®—ã«å‚™ãˆã¦æ—¥æ™‚ã«å¤‰æ›ã—ã¦ãŠã
    start = datetime.strptime(state['start_date'], "%Y%m%d")
    end = datetime.strptime(state['end_date'], "%Y%m%d")
    run_dir = state.get('run_output_dir') or Config.OUTPUT_DIR

    single_article_path = state.get("single_article_path")

    if not single_article_path and not os.path.exists(Config.ARTICLE_DIR):
        os.makedirs(Config.ARTICLE_DIR)

    # 1. ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆå˜ä¸€æŒ‡å®šã‹æ—¥ä»˜ãƒ¬ãƒ³ã‚¸ã‹ã§åˆ†å²ï¼‰
    files_to_process: list[tuple[str, str, str]] = []
    if single_article_path:
        if not os.path.isfile(single_article_path):
            raise FileNotFoundError(f"è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: {single_article_path}")
        basename = os.path.basename(single_article_path)
        match = re.match(r"(\d{8})_(.*)\.md", basename)
        if match:
            file_date_str, title = match.groups()
        else:
            file_date_str = state['start_date']
            title = os.path.splitext(basename)[0]
        files_to_process.append((single_article_path, title, file_date_str))
    else:
        for filename in os.listdir(Config.ARTICLE_DIR):
            match = re.match(r"(\d{8})_(.*)\.md", filename)
            if match:
                file_date_str, title = match.groups()
                file_date = datetime.strptime(file_date_str, "%Y%m%d")
                if start <= file_date <= end:
                    files_to_process.append(
                        (os.path.join(Config.ARTICLE_DIR, filename), title, file_date_str))

    # 2. å„è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã¨è¦ç´„ï¼ˆãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ä½œæˆï¼‰
    for filepath, title, date_str in files_to_process:
        with open(filepath, 'r', encoding='utf-8') as f:
            raw_content = f.read()

        # GPT-4oã«ã‚ˆã‚‹è¦ç´„ã¨ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ•´å½¢
        # ã“ã“ã§URLã®é™¤å»ã‚„è‡ªç„¶ãªè¨€ã„å›ã—ã¸ã®å¤‰æ›ã‚’æŒ‡ç¤º
        response = text_client.chat.completions.create(
            model=Config.AZURE_OPENAI_DEPLOYMENT_NAME,  # GPT-4oç”¨ãƒ‡ãƒ—ãƒ­ã‚¤å
            messages=[
                {"role": "system", "content": "ã‚ãªãŸã¯å„ªç§€ãªãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¢ãƒŠã‚¦ãƒ³ã‚µãƒ¼ã§ã™ã€‚"},
                {"role": "user", "content": f"""
ä»¥ä¸‹ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹ã‚’ã€YouTubeã‚·ãƒ§ãƒ¼ãƒˆç”¨ã®ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ã«è¦ç´„ã—ã¦ãã ã•ã„ã€‚

ã€åˆ¶ç´„äº‹é …ã€‘
ãƒ»500æ–‡å­—ä»¥å†…
ãƒ»å†’é ­ã§æ ¸å¿ƒã‚’ä¼ãˆã‚‹ï¼šã€Œä½•ãŒèµ·ããŸã®ã‹ã€ã€Œãªãœé‡è¦ãªã®ã‹ã€ã‚’æœ€åˆã«æ˜ç¤º
ãƒ»ãã®å¾Œã€æ™‚ç³»åˆ—ã‚„å› æœé–¢ä¿‚ã«æ²¿ã£ã¦èƒŒæ™¯ãƒ»çµŒç·¯ãƒ»å½±éŸ¿ã‚’ç°¡æ½”ã«èª¬æ˜
ãƒ»URLã‚„è¨˜å·ï¼ˆ[ ]ã€( )ãªã©ï¼‰ã¯å®Œå…¨ã«å‰Šé™¤ã¾ãŸã¯è‡ªç„¶ãªè¨€è‘‰ã«ç½®ãæ›ãˆã‚‹
ãƒ»å°‚é–€ç”¨èªã¯ä½¿ç”¨å¯ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³å‘ã‘ï¼‰ã ãŒã€å¿…è¦ã«å¿œã˜ã¦ç°¡æ½”ãªè£œè¶³ã‚’å…¥ã‚Œã‚‹
ãƒ»ã§ã™ãƒ»ã¾ã™èª¿ã§çµ±ä¸€ã—ã€é å›ã—ãªè¡¨ç¾ã¯é¿ã‘ã‚‹
ãƒ»ãƒ“ã‚¸ãƒã‚¹ã¸ã®å½±éŸ¿ã‚„å®Ÿå‹™çš„ãªæ„å‘³ã‚’å„ªå…ˆçš„ã«å«ã‚ã‚‹

è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«: {title}
è¨˜äº‹å†…å®¹:
{raw_content}
"""}
            ]
        )

        summarized_content = response.choices[0].message.content.strip()
        human_title = _extract_title_from_content(
            raw_content, title.replace("_", " "))

        target_articles.append({
            'title': title,
            'display_title': human_title,
            'content': summarized_content,  # ã“ã“ã«ç¶ºéº—ãªè¦ç´„ãŒå…¥ã‚‹
            'date': date_str
        })
        print(f"âœ… è¦ç´„å®Œäº†: {title}")

    _log_node_output(
        run_dir,
        "fetch_articles",
        {
            "article_count": len(target_articles),
            "article_titles": [article['display_title'] for article in target_articles],
            "articles": target_articles
        }
    )

    return {'articles': target_articles, 'run_output_dir': run_dir}


def generate_audio_assets_node(state: AgentState):
    """å„è¨˜äº‹ã®ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ã¨å­—å¹•ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã€‚"""
    audio_paths = []
    script_paths = []
    voice_outputs = []

    run_dir = state.get('run_output_dir') or Config.OUTPUT_DIR
    os.makedirs(run_dir, exist_ok=True)

    for i, article in enumerate(state['articles']):
        # éŸ³å£°åˆæˆã®è¨­å®šã‚’è¨˜äº‹ã”ã¨ã«åˆæœŸåŒ–ï¼ˆ1æœ¬ãšã¤åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹ï¼‰
        # å„è¨˜äº‹ã”ã¨ã« Azure Speech ã‚’è¨­å®šï¼ˆéŸ³å£°ã‚¹ã‚¿ã‚¤ãƒ«ã‚’çµ±ä¸€ï¼‰
        speech_config = speechsdk.SpeechConfig(
            subscription=Config.AZURE_SPEECH_KEY,
            region=Config.AZURE_SPEECH_REGION
        )
        speech_config.speech_synthesis_voice_name = "ja-JP-NanamiNeural"

        audio_filename = f"audio_{i}.wav"
        audio_path = os.path.join(run_dir, audio_filename)
        audio_config = speechsdk.audio.AudioOutputConfig(filename=audio_path)

        # ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’éŸ³å£°åŒ–ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¸ä¿å­˜
        synthesizer = speechsdk.SpeechSynthesizer(
            speech_config=speech_config, audio_config=audio_config)
        synthesizer.speak_text_async(article['content']).get()
        audio_paths.append(audio_path)

        # å­—å¹•ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°è¨ˆç®—ç”¨ã«é•·ã•ã‚’å–å¾—ï¼ˆå¤±æ•—ã—ã¦ã‚‚ç„¡è¦–ï¼‰
        audio_duration = None
        try:
            temp_clip = AudioFileClip(audio_path)
            audio_duration = temp_clip.duration or None
        except Exception:
            audio_duration = None
        finally:
            try:
                temp_clip.close()
            except Exception:
                pass

        script_filename = f"script_{i}.sbv"
        script_path = os.path.join(run_dir, script_filename)
        # SBV å½¢å¼ã®å­—å¹•ã‚’ç”Ÿæˆã—ã€YouTubeã§ç›´æ¥ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
        captions_content = _build_sbv_caption(
            article['content'], audio_duration)
        with open(script_path, "w", encoding="utf-8") as script_file:
            script_file.write(captions_content)
        script_paths.append(script_path)

        voice_outputs.append({
            "index": i,
            "article_title": article.get('display_title') or article['title'],
            "audio_path": audio_path,
            "script_path": script_path,
            "spoken_text": article['content']
        })

    _log_node_output(
        run_dir,
        "generate_audio_assets",
        {
            "audio_files": [os.path.basename(p) for p in audio_paths],
            "script_files": [os.path.basename(p) for p in script_paths],
            "voice_outputs": [
                {
                    "index": entry["index"],
                    "article_title": entry["article_title"],
                    "spoken_text": entry["spoken_text"],
                    "audio_file": os.path.basename(entry["audio_path"]),
                    "script_file": os.path.basename(entry["script_path"])
                }
                for entry in voice_outputs
            ]
        }
    )

    return {
        'audio_paths': audio_paths,
        'script_paths': script_paths,
        'run_output_dir': run_dir
    }


def generate_visual_assets_node(state: AgentState):
    """è¨˜äº‹ã”ã¨ã«è§£èª¬ç”¨ã‚¤ãƒ©ã‚¹ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ç”»åƒã‚’ç”Ÿæˆã™ã‚‹ã€‚"""
    image_paths = []
    image_prompts = []
    image_outputs = []

    run_dir = state.get('run_output_dir') or Config.OUTPUT_DIR
    os.makedirs(run_dir, exist_ok=True)

    for i, article in enumerate(state['articles']):
        # ã¾ãšã¯è¨˜äº‹å†…å®¹ã‹ã‚‰è‹±èªã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã¦ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«æ–¹é‡ã‚’æ±ºã‚ã‚‹
        # GPT ã«æ˜ ç”»çš„ãªé¢¨æ™¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œã‚‰ã›ã‚‹ï¼ˆFLUXç”¨ï¼‰
        prompt_response = text_client.chat.completions.create(
            model=Config.AZURE_OPENAI_DEPLOYMENT_NAME,
            messages=[
                {
                    "role": "system",
                    "content": (
                        "ã‚ãªãŸã¯å ±é“ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã§ã™ã€‚ä»¥ä¸‹ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹ã‚’èª­ã¿ã€"
                        "ãã®å†…å®¹ã‚’è¦–è¦šçš„ã«ä¼ãˆã‚‹ç”»åƒç”Ÿæˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‹±èªã§ä½œæˆã—ã¦ãã ã•ã„ã€‚\n\n"

                        "ã€å¿…é ˆè¦ç´ ã€‘\n"
                        "ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®æ ¸å¿ƒçš„ãªã€Œãƒ¢ãƒã€ã€Œå ´æ‰€ã€ã€ŒçŠ¶æ³ã€ã‚’å…·ä½“çš„ã«æå†™\n"
                        "ãƒ»æŠ€è¡“ç³»ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼šè£½å“ã€ãƒ‡ãƒã‚¤ã‚¹ã€ã‚¤ãƒ³ãƒ•ãƒ©ã€ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹\n"
                        "ãƒ»ãƒ“ã‚¸ãƒã‚¹ç³»ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼šã‚ªãƒ•ã‚£ã‚¹ç©ºé–“ã€éƒ½å¸‚æ™¯è¦³ã€ä¼æ¥­ãƒ­ã‚´ã®ãªã„ãƒ“ãƒ«ç¾¤\n"
                        "ãƒ»æ”¿ç­–ç³»ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼šè­°å ´ã€å…¬å…±æ–½è¨­ã€è±¡å¾´çš„ãªå»ºé€ ç‰©\n"
                        "ãƒ»ç’°å¢ƒç³»ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼šè‡ªç„¶ç’°å¢ƒã€æ°—å€™ç¾è±¡ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\n"

                        "ã€ç¦æ­¢äº‹é …ã€‘\n"
                        "ãƒ»å®Ÿåœ¨ã®äººç‰©ã®é¡”ã‚„ä½“ï¼ˆå¾Œã‚å§¿ã‚„é æ™¯ã®ã‚·ãƒ«ã‚¨ãƒƒãƒˆã¯å¯ï¼‰\n"
                        "ãƒ»å®Ÿåœ¨ä¼æ¥­ã®ãƒ­ã‚´ã‚„å•†æ¨™\n"
                        "ãƒ»ç‰¹å®šå¯èƒ½ãªå€‹äººãŒå†™ã‚Šè¾¼ã‚€æ§‹å›³\n\n"

                        "ã€æ¨å¥¨è¡¨ç¾ã€‘\n"
                        "ãƒ»æŠ½è±¡çš„ãªãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ¡ã‚¿ãƒ•ã‚¡ãƒ¼ï¼ˆä¾‹ï¼šAIãƒ‹ãƒ¥ãƒ¼ã‚¹â†’è„³ã®ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¨¡æ§˜ï¼‰\n"
                        "ãƒ»è±¡å¾´çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆä¾‹ï¼šåŠå°ä½“ãƒ‹ãƒ¥ãƒ¼ã‚¹â†’ãƒã‚¤ã‚¯ãƒ­ãƒãƒƒãƒ—ã®ã‚¯ãƒ­ãƒ¼ã‚ºã‚¢ãƒƒãƒ—ï¼‰\n"
                        "ãƒ»ç’°å¢ƒã‚„ç©ºé–“ã§çŠ¶æ³ã‚’è¡¨ç¾ï¼ˆä¾‹ï¼šçµŒæ¸ˆå±æ©Ÿâ†’ç„¡äººã®ã‚ªãƒ•ã‚£ã‚¹ãƒ•ãƒ­ã‚¢ï¼‰\n\n"

                        "ã€ã‚¹ã‚¿ã‚¤ãƒ«æŒ‡å®šã€‘\n"
                        "ãƒ»9:16ç¸¦å‹æ§‹å›³ã‚’æ„è­˜\n"
                        "ãƒ»ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¸ãƒ£ãƒ¼ãƒŠãƒªã‚ºãƒ é¢¨ã®å†™å®Ÿçš„ã‚¹ã‚¿ã‚¤ãƒ«\n"
                        "ãƒ»è‰²å½©ã¯è¨˜äº‹ã®ãƒˆãƒ¼ãƒ³ï¼ˆå¸Œæœ›çš„/è­¦å‘Šçš„/ä¸­ç«‹çš„ï¼‰ã«åˆã‚ã›ã‚‹\n"
                        "ãƒ»è¦–èªæ€§ã®é«˜ã„æ˜ç­ãªæ§‹å›³"
                    )
                },
                {
                    "role": "user",
                    "content": f"è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«: {article.get('display_title') or article['title']}\nè¨˜äº‹å†…å®¹: {article['content']}"
                }
            ]
        )
        img_prompt = prompt_response.choices[0].message.content.strip()
        image_prompts.append(img_prompt)

        # 9:16 æ¯”ç‡ã®ã‚¤ãƒ©ã‚¹ãƒˆã‚’æç”»ã—ã€å‹•ç”»å†’é ­ã®é™æ­¢ç”»ã«ä½¿ç”¨
        image_result = image_client.images.generate(
            model=Config.AZURE_IMAGE_DEVELOPMENT_NAME,
            prompt=f"{img_prompt} Digital art style, vibrant colors, 9:16 aspect ratio focus.",
            size="1792x1024",
            n=1,
            response_format="b64_json",
        )

        image_data = image_result.data[0]
        image_location = None
        if image_data.url:
            image_location = image_data.url
            image_paths.append(image_location)
        else:
            image_filename = f"image_{i}.png"
            image_path = os.path.join(run_dir, image_filename)
            with open(image_path, "wb") as img_file:
                img_file.write(base64.b64decode(image_data.b64_json))
            image_location = image_path
            image_paths.append(image_location)

        image_outputs.append({
            "index": i,
            "article_title": article.get('display_title') or article['title'],
            "prompt": img_prompt,
            "image_path": image_location
        })

    _log_node_output(
        run_dir,
        "generate_visual_assets",
        {
            "image_files": [os.path.basename(p) if p else None for p in image_paths],
            "image_prompts": image_prompts,
            "image_outputs": [
                {
                    "index": entry["index"],
                    "article_title": entry["article_title"],
                    "prompt": entry["prompt"],
                    "image_file": os.path.basename(entry["image_path"]) if entry["image_path"] else None
                }
                for entry in image_outputs
            ]
        }
    )

    return {
        'image_paths': image_paths,
        'run_output_dir': run_dir
    }


def create_short_video_node(state: AgentState):
    """ç”Ÿæˆæ¸ˆã¿ã®é™æ­¢ç”»ãƒ»ã‚¹ãƒˆãƒƒã‚¯æ˜ åƒãƒ»ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ã‚’çµåˆã—çŸ­å°ºå‹•ç”»ã‚’ä½œã‚‹ã€‚"""
    clips = []
    run_dir = state.get('run_output_dir') or Config.OUTPUT_DIR
    os.makedirs(run_dir, exist_ok=True)
    output_path = os.path.join(run_dir, "final_youtube_short.mp4")
    movie_files = _list_movie_files()
    video_sources: list[VideoFileClip] = []
    article_visual_logs = []
    article_audio_clips: list[AudioFileClip] = []
    audio_timeline = []
    audio_cursor = 0.0

    for i, article in enumerate(state['articles']):
        # è¨˜äº‹ã”ã¨ã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã¨ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚’ 1 ã‚¯ãƒªãƒƒãƒ—ã«ã¾ã¨ã‚ã‚‹
        audio = AudioFileClip(state['audio_paths'][i])
        article_audio_clips.append(audio)
        duration = audio.duration or 0
        duration = max(duration, 0.001)

        base_image = ImageClip(state['image_paths'][i], duration=duration)
        base_image = base_image.with_effects([Resize(height=1920)])

        def zoom_factor(t, total=duration):
            return 1 + 0.05 * (t / max(total, 0.001))

        base_image = base_image.with_effects([Resize(new_size=zoom_factor)])
        base_image = base_image.with_position("center")

        segments = []
        movie_segments_log = []

        image_intro_duration = min(5, duration)
        segments.append(base_image.with_duration(image_intro_duration))
        remaining = duration - image_intro_duration

        while remaining > 1e-3 and movie_files:
            # ã‚¹ãƒˆãƒƒã‚¯æ˜ åƒã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å·®ã—è¾¼ã¿ã€é™æ­¢ç”»ã ã‘ã®å˜èª¿ã•ã‚’æŠ‘ãˆã‚‹
            movie_path = random.choice(movie_files)
            try:
                video_clip = VideoFileClip(movie_path)
                video_sources.append(video_clip)
            except Exception:
                continue

            clip_duration = min(5, remaining, video_clip.duration or 0)
            if clip_duration <= 0:
                video_clip.close()
                continue

            max_start = max(
                0, (video_clip.duration or clip_duration) - clip_duration)
            start = random.uniform(0, max_start) if max_start > 0 else 0

            segment = video_clip.subclipped(
                start_time=start,
                end_time=start + clip_duration
            ).with_audio(None)

            segment = segment.with_effects(
                [Resize(height=1920)]).with_position("center")
            segments.append(segment)

            movie_segments_log.append({
                "file": os.path.basename(movie_path),
                "start": round(start, 2),
                "duration": round(clip_duration, 2)
            })

            remaining -= clip_duration

        if remaining > 1e-3:
            segments.append(base_image.with_duration(remaining))

        # é™æ­¢ç”»ã¨å‹•ç”»ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’çµåˆã—ã€è¨˜äº‹ã”ã¨ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚¯ãƒªãƒƒãƒ—ã‚’å®Œæˆã•ã›ã‚‹
        article_video = concatenate_videoclips(
            segments, method="compose").with_duration(duration)
        article_video.audio = audio
        clips.append(article_video)

        article_visual_logs.append({
            "article": article.get('display_title') or article['title'],
            "movie_segments": movie_segments_log
        })

        audio_timeline.append({
            "article": article.get('display_title') or article['title'],
            "audio_file": os.path.basename(state['audio_paths'][i]),
            "start": round(audio_cursor, 2),
            "duration": round(duration, 2)
        })
        audio_cursor += duration

    final_video = concatenate_videoclips(clips, method="compose")
    final_audio = None
    if article_audio_clips:
        final_audio = concatenate_audioclips(article_audio_clips)
        final_video.audio = final_audio

    try:
        final_video.write_videofile(
            output_path, fps=24, codec="libx264", audio_codec="aac"
        )
    finally:
        final_video.close()
        if final_audio is not None:
            try:
                final_audio.close()
            except Exception:
                pass
        for audio_clip in article_audio_clips:
            try:
                audio_clip.close()
            except Exception:
                pass
        for source in video_sources:
            try:
                source.close()
            except Exception:
                pass

    _log_node_output(
        run_dir,
        "create_video",
        {
            "video_file": os.path.basename(output_path),
            "clip_count": len(clips),
            "articles": article_visual_logs,
            "audio_timeline": audio_timeline
        }
    )

    return {
        "video_path": output_path,
        'run_output_dir': run_dir
    }


def generate_youtube_metadata_node(state: AgentState):
    """YouTubeæŠ•ç¨¿ç”¨ã®ã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜æ–‡ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’æ•´å‚™ã™ã‚‹ã€‚"""
    run_dir = state.get('run_output_dir') or Config.OUTPUT_DIR
    os.makedirs(run_dir, exist_ok=True)

    metadata = _generate_youtube_metadata(state)
    hashtags_line = " ".join(f"#{tag}" for tag in metadata['hashtags']).strip()
    metadata_path = os.path.join(run_dir, "youtube_meta.txt")

    articles = state.get("articles") or []
    if articles:
        primary_title = articles[0].get(
            'display_title') or articles[0].get('title') or "æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹"
    else:
        primary_title = "æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹"
    note_line = f"- note: {primary_title}"
    zenn_line = f"- zenn: {primary_title}"

    spoken_block = "\n\n".join(
        article.get('content', '').strip()
        for article in articles if article.get('content')
    ).strip()

    sections = [
        "ã€å†…å®¹ã€‘",
        note_line,
        zenn_line,
        "",
    ]

    if articles:
        for idx, article in enumerate(articles, start=1):
            title = article.get('display_title') or article.get(
                'title') or f"è¨˜äº‹{idx}"
            spoken = article.get('content', '').strip()
            sections.append(f"{idx}. {title}")
            if spoken:
                sections.append(spoken)
            sections.append("")
    elif spoken_block:
        sections.append(spoken_block)
        sections.append("")

    sections.extend([
        "ITç³»ã®æƒ…å ±ã‚’ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚",
        "note",
        "https://note.com/kenquichi",
        "zenn",
        "https://zenn.dev/kenquichi",
        "",
        "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãªã‚‹è¬›åº§",
        "https://note.com/kenquichi/m/mc4926a77c1da",
        "",

        "\n".join(f"#{tag}" for tag in metadata['hashtags']) or "#ãƒ‹ãƒ¥ãƒ¼ã‚¹"
    ])

    final_text = "\n".join(sections).rstrip() + "\n"

    with open(metadata_path, "w", encoding="utf-8") as meta_file:
        meta_file.write(final_text)

    _log_node_output(
        run_dir,
        "generate_youtube_metadata",
        {
            "metadata_file": os.path.basename(metadata_path),
            "title": metadata['title'],
            "description": metadata['description'],
            "hashtags": metadata['hashtags'],
            "hashtags_line": hashtags_line or "#ãƒ‹ãƒ¥ãƒ¼ã‚¹ #ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»",
            "thumbnail_file": os.path.basename(state.get('thumbnail_path')) if state.get('thumbnail_path') else None,
            "thumbnail_title": metadata['thumbnail_title']
        }
    )

    return {
        "youtube_metadata_path": metadata_path,
        "thumbnail_title": metadata['thumbnail_title'],
        'run_output_dir': run_dir
    }

```

### è¨˜äº‹å–å¾—ãƒ»è¦ç´„ãƒãƒ¼ãƒ‰ (`fetch_articles_node`)

ã“ã®ãƒãƒ¼ãƒ‰ã¯ã€æŒ‡å®šã•ã‚ŒãŸæ—¥ä»˜ç¯„å›²ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€**ã€ŒYouTubeã‚·ãƒ§ãƒ¼ãƒˆã«æœ€é©åŒ–ã•ã‚ŒãŸãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ã€**ã¸ã¨å¤‰æ›ã—ã¾ã™ã€‚

**ã€ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒã‚¤ãƒ³ãƒˆã€‘**

* **GPT-4oã«ã‚ˆã‚‹ã€Œèã‹ã›ã‚‹ã€è¦ç´„**: å˜ã«çŸ­ãã™ã‚‹ã®ã§ã¯ãªãã€URLã‚„ä¸è¦ãªè¨˜å·ã‚’æ’é™¤ã—ã€ã€Œã‚¢ãƒŠã‚¦ãƒ³ã‚µãƒ¼ãŒè©±ã™ã‚ˆã†ãªè‡ªç„¶ãªè©±ã—è¨€è‘‰ã€ã¸ã¨æ•´å½¢ã—ã¾ã™ã€‚
* **å†’é ­ã®ãƒ•ãƒƒã‚¯**: è¦–è´è€…ãŒé›¢è„±ã—ãªã„ã‚ˆã†ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®æ ¸å¿ƒã‚’æœ€åˆã«æŒã£ã¦ãã‚‹æ§‹æˆã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å¼·åˆ¶ã—ã¦ã„ã¾ã™ã€‚

### éŸ³å£°ãƒ»å­—å¹•ç”Ÿæˆãƒãƒ¼ãƒ‰ (`generate_audio_assets_node`)

ç”Ÿæˆã•ã‚ŒãŸåŸç¨¿ã‚’ã€Azure AI Speechã‚’ä½¿ã£ã¦é«˜å“è³ªãªéŸ³å£°ï¼ˆWAVï¼‰ã«å¤‰æ›ã—ã¾ã™ã€‚

**ã€æŠ€è¡“çš„ãªå·¥å¤«ã€‘**

* **ç–‘ä¼¼SBVå­—å¹•ã®ç”Ÿæˆ**: éŸ³å£°ã®é•·ã•ã‚’è§£æã—ã€æ–‡å­—æ•°ãƒ™ãƒ¼ã‚¹ã§ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¨ˆç®—ã—ãŸå­—å¹•ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.sbvï¼‰ã‚’åŒæ™‚ã«å‡ºåŠ›ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€YouTubeã‚„Canvaã§ã®å­—å¹•ä»˜ã‘ãŒåŠ‡çš„ã«æ¥½ã«ãªã‚Šã¾ã™ã€‚

### ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ç”Ÿæˆãƒãƒ¼ãƒ‰ (`generate_visual_assets_node`)

è¨˜äº‹ã®å†…å®¹ã‚’åæ˜ ã—ãŸã€Œè§£èª¬ç”¨ã‚¤ãƒ©ã‚¹ãƒˆã€ã‚’FLUX.1ã§ç”Ÿæˆã—ã¾ã™ã€‚

**ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®æ¥µæ„ã€‘**

* **2æ®µéšç”Ÿæˆ**: ç›´æ¥ç”»åƒã‚’ä½œã‚‹ã®ã§ã¯ãªãã€ã¾ãšGPT-4oã«ã€Œå ±é“ã‚¸ãƒ£ãƒ¼ãƒŠãƒªã‚ºãƒ é¢¨ã®ã€äººç‰©ã‚’å«ã¾ãªã„æŠ½è±¡çš„ã§æ˜ ç”»çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã‚’è‹±èªã§æ›¸ã‹ã›ã¦ã‹ã‚‰ã€ç”»åƒç”Ÿæˆãƒ¢ãƒ‡ãƒ«ã«æ¸¡ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è‘—ä½œæ¨©ãƒªã‚¹ã‚¯ã‚’æŠ‘ãˆã¤ã¤ã€çµ±ä¸€æ„Ÿã®ã‚ã‚‹ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªç”»è³ªã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

### å‹•ç”»ç·¨é›†ãƒãƒ¼ãƒ‰ (`create_short_video_node`)

ã“ã“ãŒæœ€ã‚‚ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãªéƒ¨åˆ†ã§ã™ã€‚MoviePyã‚’ä½¿ç”¨ã—ã€ç”Ÿæˆã•ã‚ŒãŸå…¨ç´ æã‚’ä¸€ã¤ã®MP4ã«åˆæˆã—ã¾ã™ã€‚

**ã€è¦–è´è€…ã‚’é£½ãã•ã›ãªã„æ¼”å‡ºãƒ­ã‚¸ãƒƒã‚¯ã€‘**

* **å‹•çš„ã‚ºãƒ¼ãƒ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ**: é™æ­¢ç”»ã«å¯¾ã—ã¦ã€Œã˜ã‚ã˜ã‚ã¨æ‹¡å¤§ã™ã‚‹ã€ã‚ºãƒ¼ãƒ ï¼ˆã‚±ãƒ³ãƒ»ãƒãƒ¼ãƒ³ã‚ºãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰ã‚’ã‚³ãƒ¼ãƒ‰ã§å®Ÿè£…ã—ã€è¦–è¦šçš„ãªå‹•ãã‚’çµ¶ã‚„ã—ã¾ã›ã‚“ã€‚
* **ã‚¹ãƒˆãƒƒã‚¯æ˜ åƒã®ãƒ©ãƒ³ãƒ€ãƒ æŒ¿å…¥**: å†’é ­5ç§’ä»¥é™ã¯ã€`movie/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ãƒ•ãƒªãƒ¼ç´ æå‹•ç”»ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å·®ã—è¾¼ã¿ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å®Œå…¨è‡ªå‹•ç”ŸæˆãªãŒã‚‰ã€Œãƒªãƒƒãƒãªç·¨é›†æ„Ÿã€ã‚’æ¼”å‡ºã—ã¦ã„ã¾ã™ã€‚

```python
# é™æ­¢ç”»ã«ç”Ÿå‘½ã‚’å¹ãè¾¼ã‚€ã€Œã‚ºãƒ¼ãƒ é–¢æ•°ã€
def zoom_factor(t, total=duration):
    return 1 + 0.05 * (t / max(total, 0.001))

# 9:16ã®Shortsã‚µã‚¤ã‚ºã«ãƒªã‚µã‚¤ã‚ºã—ã€ã‚ºãƒ¼ãƒ åŠ¹æœã‚’ä»˜ä¸
base_image = base_image.with_effects([
    Resize(height=1920),
    Resize(new_size=zoom_factor)
])

```

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒãƒ¼ãƒ‰ (`generate_youtube_metadata_node`)

æœ€å¾Œã«ã€YouTubeã«æŠ•ç¨¿ã™ã‚‹éš›ã®ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜æ–‡ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

**ã€é‹ç”¨ã®è‡ªå‹•åŒ–ã€‘**

* è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰é‡è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã—ã€SEOã«å¼·ã„ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’5ã¤é¸å®šã—ã¾ã™ã€‚å‡ºåŠ›ã•ã‚ŒãŸ `youtube_meta.txt` ã‚’ã‚³ãƒ”ãƒšã™ã‚‹ã ã‘ã§æŠ•ç¨¿ãŒå®Œäº†ã™ã‚‹çŠ¶æ…‹ã‚’ä½œã‚Šã¾ã™ã€‚


## ã“ã®è¨­è¨ˆãŒã‚‚ãŸã‚‰ã™ãƒ¡ãƒªãƒƒãƒˆ

1. **ç–çµåˆãªãƒãƒ¼ãƒ‰**: å„ãƒãƒ¼ãƒ‰ã¯å®Œå…¨ã«ç‹¬ç«‹ã—ã¦ãŠã‚Šã€ä¾‹ãˆã°ã€ŒéŸ³å£°åˆæˆã‚’Google Cloud TTSã«å¤‰ãˆãŸã„ã€ã¨æ€ã£ãŸæ™‚ã‚‚ã€è©²å½“ãƒãƒ¼ãƒ‰ã‚’å·®ã—æ›¿ãˆã‚‹ã ã‘ã§æ¸ˆã¿ã¾ã™ã€‚
2. **å®Ÿè¡Œãƒ­ã‚°ã®å¯è¦–åŒ– (`_log_node_output`)**: å„å·¥ç¨‹ã®å…¥å‡ºåŠ›ã‚’ `node_logs.jsonl` ã«è©³ç´°ã«è¨˜éŒ²ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€AIãŒã©ã®ã‚ˆã†ãªåˆ¤æ–­ã‚’ä¸‹ã—ãŸã‹ã‚’å¾Œã‹ã‚‰åˆ†æã™ã‚‹éš›ã«æ¥µã‚ã¦é‡è¦ã§ã™ã€‚
3. **ã‚¢ã‚»ãƒƒãƒˆã®å†åˆ©ç”¨**: ç”Ÿæˆã•ã‚ŒãŸä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆWAVã‚„PNGï¼‰ã¯ã™ã¹ã¦ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã‚‹ãŸã‚ã€å¾Œã‹ã‚‰å€‹åˆ¥ã«å†ç·¨é›†ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

**ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ¬¡ã¯ã€ã“ã‚Œã‚‰ã‚’LangGraphã¨ã—ã¦çµ±åˆã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦å®Ÿè¡Œã™ã‚‹ã€Œãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€ã‚’ä½œæˆã—ã¾ã™ã€‚**


### graph.pyï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©ï¼‰

ã“ã‚Œã¾ã§ä½œæˆã—ãŸã€ŒConfigï¼ˆè¨­å®šï¼‰ã€ã€ŒStateï¼ˆçŠ¶æ…‹ï¼‰ã€ã€ŒNodesï¼ˆå‡¦ç†ï¼‰ã€ã‚’ä¸€ã¤ã«æŸã­ã€è‡ªå‹•åŒ–ã®ã€Œåœ°å›³ã€ã‚’æãå·¥ç¨‹ã§ã™ã€‚

LangGraphã®çœŸéª¨é ‚ã¯ã€è¤‡é›‘ãªå‡¦ç†ã‚’ **DAGï¼ˆæœ‰å‘éå·¡å›ã‚°ãƒ©ãƒ•ï¼‰** ã¨ã—ã¦å®šç¾©ã§ãã‚‹ç‚¹ã«ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã©ã“ã‹ã‚‰å§‹ã¾ã‚Šã€ã©ã®é †ç•ªã§ãƒ‡ãƒ¼ã‚¿ãŒæµã‚Œã€ã©ã“ã§çµ‚ã‚ã‚‹ã®ã‹ã¨ã„ã†ã€Œä¾å­˜é–¢ä¿‚ã€ãŒæ˜ç¢ºã«ãªã‚Šã¾ã™ã€‚

### ã‚°ãƒ©ãƒ•å®šç¾©ã‚³ãƒ¼ãƒ‰ (`graph.py`)

```python
from langgraph.graph import StateGraph, END
from state import AgentState
from nodes import (
    fetch_articles_node,
    generate_audio_assets_node,
    generate_visual_assets_node,
    create_short_video_node,
    generate_youtube_metadata_node,
)

def create_graph():
    """
    ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦å®Ÿè¡Œå¯èƒ½ãªçŠ¶æ…‹ã«ã™ã‚‹ã€‚
    """
    # çŠ¶æ…‹ï¼ˆAgentStateï¼‰ã‚’æŒã¤ã‚°ãƒ©ãƒ•ã‚’åˆæœŸåŒ–
    workflow = StateGraph(AgentState)

    # 1. å„ãƒãƒ¼ãƒ‰ã®ç™»éŒ²ï¼ˆä½œæ¥­ã‚¹ã‚¿ãƒƒãƒ•ã®é…ç½®ï¼‰
    workflow.add_node("fetch_articles", fetch_articles_node)
    workflow.add_node("generate_audio_assets", generate_audio_assets_node)
    workflow.add_node("generate_visual_assets", generate_visual_assets_node)
    workflow.add_node("create_video", create_short_video_node)
    workflow.add_node("generate_youtube_metadata", generate_youtube_metadata_node)

    # 2. ã‚¨ãƒƒã‚¸ã®æ¥ç¶šï¼ˆä½œæ¥­ãƒ•ãƒ­ãƒ¼ã®æŒ‡ç¤ºï¼‰
    # é–‹å§‹ç‚¹ã®è¨­å®š
    workflow.set_entry_point("fetch_articles")

    # ãƒãƒ¼ãƒ‰ã‚’ä¸€æœ¬ã®ç·šã§ã¤ãªãï¼ˆç›´åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
    workflow.add_edge("fetch_articles", "generate_audio_assets")
    workflow.add_edge("generate_audio_assets", "generate_visual_assets")
    workflow.add_edge("generate_visual_assets", "create_video")
    workflow.add_edge("create_video", "generate_youtube_metadata")

    # çµ‚äº†ç‚¹ã¸ã®æ¥ç¶š
    workflow.add_edge("generate_youtube_metadata", END)

    # ã‚°ãƒ©ãƒ•ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
    return workflow.compile()

```

### ãªãœã“ã®ã€Œã‚°ãƒ©ãƒ•æ§‹é€ ã€ãŒå„ªã‚Œã¦ã„ã‚‹ã®ã‹ï¼Ÿ

ã“ã®ã‚°ãƒ©ãƒ•å®šç¾©ã«ã‚ˆã‚Šã€ãŸã ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€Œæ‹¡å¼µå¯èƒ½ãªã‚·ã‚¹ãƒ†ãƒ ã€ã¸ã¨é€²åŒ–ã—ã¾ã™ã€‚

#### 1. å¯è¦–æ€§ã¨ä¿å®ˆæ€§ã®å‘ä¸Š

ã€Œã©ã®å‡¦ç†ã®æ¬¡ã«ä½•ãŒèµ·ãã‚‹ã‹ã€ãŒã‚³ãƒ¼ãƒ‰ä¸Šã§å®£è¨€çš„ã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã¾ãªãã¦ã‚‚å…¨ä½“ã®æµã‚ŒãŒä¸€ç›®ã§ç†è§£ã§ãã¾ã™ã€‚å°†æ¥çš„ã«ã€ç‰¹å®šã®å‡¦ç†ï¼ˆä¾‹ï¼šç”»åƒç”Ÿæˆï¼‰ã‚’åˆ¥ã®AIãƒ¢ãƒ‡ãƒ«ã«å·®ã—æ›¿ãˆã‚‹éš›ã‚‚ã€ã‚°ãƒ©ãƒ•ã®æ¥ç¶šã‚’ç¶­æŒã—ãŸã¾ã¾ãƒãƒ¼ãƒ‰ã®å®Ÿè£…ã‚’å¤‰æ›´ã™ã‚‹ã ã‘ã§æ¸ˆã¿ã¾ã™ã€‚

#### 2. æŸ”è»Ÿãªæ‹¡å¼µæ€§ï¼ˆä¸¦åˆ—åŒ–ã¨æ¡ä»¶åˆ†å²ï¼‰

ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªç›´åˆ—æ§‹é€ ã§ã™ãŒã€LangGraphã‚’ä½¿ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªé«˜åº¦ãªæ‹¡å¼µã‚‚å®¹æ˜“ã§ã™ã€‚

* **ä¸¦åˆ—å‡¦ç†**: ã€ŒéŸ³å£°ç”Ÿæˆã€ã¨ã€Œç”»åƒç”Ÿæˆã€ã‚’åŒæ™‚ã«èµ°ã‚‰ã›ã¦å‡¦ç†æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹ã€‚
* **æ¡ä»¶åˆ†å²ï¼ˆConditional Edgesï¼‰**: ã€Œè¨˜äº‹ãŒ0ä»¶ãªã‚‰ãã®ã¾ã¾çµ‚äº†ã€ã€Œã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰ãƒªãƒˆãƒ©ã‚¤ãƒãƒ¼ãƒ‰ã¸æˆ»ã‚‹ã€ã¨ã„ã£ãŸãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹ã€‚

#### 3. ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ãªå®Ÿè¡Œç®¡ç†

LangGraphã¯å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã€ŒStateã€ã‚’ä¿æŒã™ã‚‹ãŸã‚ã€ã‚‚ã—é€”ä¸­ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ã€ã©ã®ãƒãƒ¼ãƒ‰ã¾ã§æˆåŠŸã—ãŸã‹ã‚’è¿½è·¡å¯èƒ½ã§ã™ã€‚ã“ã‚Œã¯ã€APIã‚³ã‚¹ãƒˆã‚„å®Ÿè¡Œæ™‚é–“ãŒã‹ã‹ã‚‹å‹•ç”»ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ãƒªãƒˆãƒ©ã‚¤ã‚„ãƒ‡ãƒãƒƒã‚°ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ãŸã‚ã®å¤§ããªæ­¦å™¨ã¨ãªã‚Šã¾ã™ã€‚

**ã“ã‚Œã§ã€ã™ã¹ã¦ã®ãƒ”ãƒ¼ã‚¹ãŒæƒã„ã¾ã—ãŸã€‚æœ€å¾Œã«ã€ã“ã‚Œã‚‰ã®å‡¦ç†ã‚’ã‚­ãƒƒã‚¯ã™ã‚‹ãŸã‚ã®ã€Œãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªã€ã¨ã€å®Ÿéš›ã®å®Ÿè¡Œæ‰‹é †ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚**

### CLIã®å®Ÿè£… (main.py)
ã‚·ã‚¹ãƒ†ãƒ ã®ã€Œé¡”ã€ã¨ãªã‚‹ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ (`main.py`) ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
ã“ã“ã§ã¯ã€ãƒ¢ãƒ€ãƒ³ãªCLIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ **Typer** ã‚’æ¡ç”¨ã—ã€ç›´æ„Ÿçš„ãªæ“ä½œæ„Ÿã¨å …ç‰¢ãªãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

### ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ  (`main.py`)

```python
import os
import re
from datetime import datetime
import typer
from typing import Annotated
from graph import create_graph
from state import AgentState
from config import Config

def _resolve_run_output_dir(base_path: str) -> str:
    """åŒåãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã™ã‚‹å ´åˆã€ver_n ã‚’ä»˜ä¸ã—ã¦ä¸Šæ›¸ãã‚’é˜²æ­¢ã™ã‚‹"""
    if not os.path.exists(base_path):
        return base_path
    version = 1
    while True:
        candidate = f"{base_path}_ver_{version}"
        if not os.path.exists(candidate):
            return candidate
        version += 1

def _resolve_article_argument(article_arg: str) -> tuple[str, str | None]:
    """
    å¼•æ•°ãŒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãªã‚‰ãã®ã¾ã¾ã€8æ¡ã®æ—¥ä»˜ãªã‚‰è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ç´¢ã€‚
    é‹ç”¨ã®æŸ”è»Ÿæ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã§ã™ã€‚
    """
    candidate_path = os.path.abspath(article_arg)
    if os.path.isfile(candidate_path):
        return candidate_path, None

    # æ—¥ä»˜ï¼ˆYYYYMMDDï¼‰æŒ‡å®šã®å ´åˆã®è‡ªå‹•æ¢ç´¢ãƒ­ã‚¸ãƒƒã‚¯
    if re.match(r"^\d{8}$", article_arg):
        date_str = article_arg
        article_dir = Config.ARTICLE_DIR
        matches = [n for n in os.listdir(article_dir) if n.startswith(f"{date_str}_") and n.endswith(".md")]
        if not matches:
            raise typer.BadParameter(f"[{date_str}] ã§å§‹ã¾ã‚‹è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚")
        if len(matches) > 1:
            raise typer.BadParameter(f"è¤‡æ•°ã®è¨˜äº‹ãŒãƒ’ãƒƒãƒˆã—ã¾ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã§ç›´æ¥æŒ‡å®šã—ã¦ãã ã•ã„ã€‚")
        return os.path.abspath(os.path.join(article_dir, matches[0])), date_str

    raise typer.BadParameter("8æ¡ã®æ—¥ä»˜ã€ã¾ãŸã¯è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚")

app = typer.Typer(help="ãƒ‹ãƒ¥ãƒ¼ã‚¹å‹•ç”»è‡ªå‹•ç”ŸæˆCLI")

@app.command("generate")
def generate_single_article(
    article_identifier: Annotated[str, typer.Argument(help="è¨˜äº‹ã®8æ¡æ—¥ä»˜ ã¾ãŸã¯ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹")]
):
    """
    æŒ‡å®šã—ãŸè¨˜äº‹ã‹ã‚‰YouTube Shortsç´ æã‚’ä¸€æ°—é€šè²«ã§ç”Ÿæˆã—ã¾ã™ã€‚
    """
    # ãƒ‘ã‚¹ã¨æ—¥ä»˜ã®è§£æ±º
    article_path, inferred_date = _resolve_article_argument(article_identifier)
    date_str = inferred_date or datetime.now().strftime("%Y%m%d")

    # å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ±ºå®šï¼ˆæ•´ç†ã—ã‚„ã™ã„å‘½åè¦å‰‡ï¼‰
    slug = os.path.splitext(os.path.basename(article_path))[0]
    run_output_dir = _resolve_run_output_dir(os.path.join(Config.OUTPUT_DIR, slug))
    os.makedirs(run_output_dir, exist_ok=True)

    # åˆæœŸçŠ¶æ…‹ï¼ˆStateï¼‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    initial_state: AgentState = {
        "start_date": date_str,
        "end_date": date_str,
        "run_output_dir": run_output_dir,
        "single_article_path": article_path,
        "articles": [],
        "audio_paths": [],
        "image_paths": [],
        "script_paths": [],
        "thumbnail_path": None,
        "thumbnail_title": None,
        "video_path": None,
        "youtube_metadata_path": None,
        "error": None
    }

    typer.secho(f"ğŸš€ å‹•ç”»ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èµ·å‹•ã—ã¾ã™...", fg=typer.colors.CYAN, bold=True)

    try:
        # LangGraphã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè¡Œã§é€²æ—ã‚’è¡¨ç¤º
        graph = create_graph()
        for output in graph.stream(initial_state):
            for node_name, _ in output.items():
                typer.echo(f"  âœ… Node [{node_name}] å®Œäº†")

        typer.secho(f"\nâœ¨ ã™ã¹ã¦ã®å·¥ç¨‹ãŒå®Œäº†ã—ã¾ã—ãŸï¼", fg=typer.colors.GREEN, bold=True)
        typer.echo(f"ğŸ“ æˆæœç‰©: {run_output_dir}")

    except Exception as e:
        typer.secho(f"âŒ è‡´å‘½çš„ãªã‚¨ãƒ©ãƒ¼: {e}", fg=typer.colors.RED, err=True)

if __name__ == "__main__":
    app()

```

## å®Ÿè·µï¼šå‹•ç”»ã‚’ç”Ÿæˆã™ã‚‹

ã•ã‚ã€æº–å‚™ã¯æ•´ã„ã¾ã—ãŸã€‚å®Ÿéš›ã«ã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ã‹ã—ã¦ã€ã‚ãªãŸã®è¨˜äº‹ã‚’å‹•ç”»ã«å¤‰ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

### STEP 1: ç´ æã®æº–å‚™

è‡ªå‹•ç”Ÿæˆã‚’ã‚ˆã‚Šãƒªãƒƒãƒã«ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®æº–å‚™ã‚’è¡Œã„ã¾ã™ã€‚

1. **èƒŒæ™¯ç”¨ã‚¹ãƒˆãƒƒã‚¯æ˜ åƒã®é…ç½®**:
`movie/` ãƒ•ã‚©ãƒ«ãƒ€ã«ã€è‘—ä½œæ¨©ãƒ•ãƒªãƒ¼ã®å‹•ç”»ç´ æï¼ˆ10ç§’ç¨‹åº¦ã®çŸ­ã„ã‚‚ã®æ•°æœ¬ï¼‰ã‚’å…¥ã‚Œã¾ã™ã€‚
* [Pexels](https://www.pexels.com/ja-jp/videos/) ã‚„ [Pixabay](https://pixabay.com/ja/videos/) ã§ã€è‡ªåˆ†ã®ãƒãƒ£ãƒ³ãƒãƒ«ã®é›°å›²æ°—ã«åˆã†ç´ æï¼ˆã€Œãƒ“ã‚¸ãƒã‚¹ã€ã€Œãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã€ã€Œéƒ½å¸‚ã€ãªã©ï¼‰ã‚’æƒãˆã‚‹ã®ãŒã‚³ãƒ„ã§ã™ã€‚


2. **è¨˜äº‹ã®é…ç½®**:
`article/` ãƒ•ã‚©ãƒ«ãƒ€ã«ã€`YYYYMMDD_ã‚¿ã‚¤ãƒˆãƒ«.md` ã®å½¢å¼ã§åŸç¨¿ã‚’ä¿å­˜ã—ã¾ã™ã€‚

### STEP 2: ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ãã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¡è¾¼ã¿ã¾ã™ã€‚

```bash
# ç‰¹å®šã®æ—¥ä»˜ã®è¨˜äº‹ã‚’å‡¦ç†ã™ã‚‹å ´åˆ
python main.py generate 20260222
```

### STEP 3: ç”Ÿæˆç‰©ã®ç¢ºèª

å‡¦ç†ãŒçµ‚ã‚ã‚‹ã¨ã€`output/` å†…ã«ä»Šå›ã®å®Ÿè¡Œå°‚ç”¨ã®ãƒ•ã‚©ãƒ«ãƒ€ãŒä½œã‚‰ã‚Œã€ä»¥ä¸‹ã®ç´ æãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ«å | å†…å®¹ | ç”¨é€” |
| --- | --- | --- |
| `final_youtube_short.mp4` | **ãƒ¡ã‚¤ãƒ³å‹•ç”»** | ãã®ã¾ã¾ã€ã¾ãŸã¯Canvaã§åŠ å·¥ã—ã¦æŠ•ç¨¿ |
| `image_0.png` | AIç”Ÿæˆã‚¤ãƒ©ã‚¹ãƒˆ | ã‚µãƒ ãƒã‚¤ãƒ«ã‚„ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã« |
| `script_0.sbv` | å­—å¹•ãƒ‡ãƒ¼ã‚¿ | YouTubeã®å­—å¹•è¨­å®šã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |
| `youtube_meta.txt` | æŠ•ç¨¿ç”¨ãƒ†ã‚­ã‚¹ãƒˆ | ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜æ–‡ã€ã‚¿ã‚°ã‚’ãã®ã¾ã¾ã‚³ãƒ”ãƒš |
| `node_logs.jsonl` | å®Ÿè¡Œãƒ­ã‚° | ã‚¨ãƒ©ãƒ¼èª¿æŸ»ã‚„è¦ç´„å†…å®¹ã®ç¢ºèªã« |


## æœ€å¾Œã«ï¼šã“ã®ã‚·ã‚¹ãƒ†ãƒ ã§æ‰‹ã«å…¥ã‚‹ã‚‚ã®

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€å˜ã«å‹•ç”»ã‚’ä½œã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**ã€Œã‚ãªãŸãŒåŸ·ç­†ã«é›†ä¸­ã—ã€AIãŒæ‹¡æ•£ã‚’æ‹…å½“ã™ã‚‹ã€ã¨ã„ã†ç†æƒ³çš„ãªã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ç’°å¢ƒ**ã¸ã®æ‹›å¾…çŠ¶ã§ã™ã€‚

æœ€åˆã¯1æœ¬ã®å‹•ç”»ã‚’ä½œã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã—ã‹ã—ã€ä¸€åº¦ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’çµ„ã‚“ã§ã—ã¾ãˆã°ã€æ¯æ—¥ã®è¨˜äº‹ã‚’å‹•ç”»ã«ã™ã‚‹ã‚³ã‚¹ãƒˆã¯é™ã‚Šãªãã‚¼ãƒ­ã«è¿‘ã¥ãã¾ã™ã€‚

ãœã²ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚ãªãŸç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆBGMã®è‡ªå‹•è¿½åŠ ã€ä»–SNSã¸ã®å±•é–‹ãªã©ï¼‰ã‚’åŠ ãˆã€ç™ºä¿¡åŠ›ã‚’æœ€å¤§åŒ–ã•ã›ã¦ãã ã•ã„ï¼

**æ¬¡ã¯ã€ã•ã‚‰ã«ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’ä¸Šã’ã‚‹ãŸã‚ã®ã€ŒCanvaã§ã®ä»•ä¸Šã’ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã€ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚**

### å®Ÿè¡Œæ–¹æ³•

å®Ÿè£…ãŒå®Œäº†ã—ãŸã‚‰ã€å®Ÿéš›ã«ã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ã‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã“ã§ã¯ã€å®Ÿè¡Œã«å¿…è¦ãªæº–å‚™ã¨ã€å®Ÿéš›ã®å®Ÿè¡Œæ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

#### 1. ãƒ•ãƒªãƒ¼ç´ æå‹•ç”»ã®æº–å‚™

`movie/`ãƒ•ã‚©ãƒ«ãƒ€ã«ã€è‘—ä½œæ¨©ãƒ•ãƒªãƒ¼ã®å‹•ç”»ç´ æã‚’é…ç½®ã—ã¾ã™ã€‚

ãŠã™ã™ã‚ã®ç´ æã‚µã‚¤ãƒˆã¯ã€[Pexels Videos](https://www.pexels.com/videos/)ã€[Pixabay](https://pixabay.com/videos/)ã€[Videvo](https://www.videvo.net/)ã§ã™ã€‚

é‡è¦ãªã®ã¯ã€å¿…ãšå„ã‚µã‚¤ãƒˆã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ¡é …ã‚’ç¢ºèªã—ã€å•†ç”¨åˆ©ç”¨ãŒå¯èƒ½ãªã‚‚ã®ã‚’é¸ã¶ã“ã¨ã§ã™ã€‚

#### 2. è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®

`article/`ãƒ•ã‚©ãƒ«ãƒ€ã«ã€ä»¥ä¸‹ã®å‘½åè¦å‰‡ã§è¨˜äº‹ã‚’é…ç½®ã—ã¾ã™ã€‚

```
20260212_AIã®æœ€æ–°å‹•å‘.md
20260213_é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®é€²åŒ–.md
20260214_å®‡å®™é–‹ç™ºãƒ‹ãƒ¥ãƒ¼ã‚¹.md
```

#### 3. å‹•ç”»ç”Ÿæˆã®å®Ÿè¡Œ

```bash
uv run main.py 20260212
```

å®Ÿè¡Œçµæœã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```
ğŸš€ å‡¦ç†ã‚’é–‹å§‹: 20260212 ã‹ã‚‰ 20260214
âœ… è¦ç´„å®Œäº†: AIã®æœ€æ–°å‹•å‘
âœ… è¦ç´„å®Œäº†: é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®é€²åŒ–
âœ… è¦ç´„å®Œäº†: å®‡å®™é–‹ç™ºãƒ‹ãƒ¥ãƒ¼ã‚¹
âœ… Node [fetch_articles] ãŒå®Œäº†ã—ã¾ã—ãŸ
âœ… Node [generate_audio_assets] ãŒå®Œäº†ã—ã¾ã—ãŸ
âœ… Node [generate_visual_assets] ãŒå®Œäº†ã—ã¾ã—ãŸ
âœ… Node [generate_thumbnail] ãŒå®Œäº†ã—ã¾ã—ãŸ
âœ… Node [create_video] ãŒå®Œäº†ã—ã¾ã—ãŸ
âœ… Node [generate_youtube_metadata] ãŒå®Œäº†ã—ã¾ã—ãŸ
âœ¨ å…¨å·¥ç¨‹ãŒå®Œäº†ã—ã¾ã—ãŸï¼ output/ ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
```

ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- `output/20260216_article_ver_1/audio_0.wav`ï¼ˆãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ï¼‰
- `output/20260216_article_ver_1/final_youtube_short.mp4`ï¼ˆç´ æå‹•ç”»ï¼‰
- `output/20260216_article_ver_1/image_0.png`ï¼ˆè¨˜äº‹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ç”»åƒï¼‰
- `output/20260216_article_ver_1/node_logs.jsonl`ï¼ˆç”Ÿæˆãƒ­ã‚°ï¼‰
- `output/20260216_article_ver_1/script_0.sbv`ï¼ˆYoutubeã®å­—å¹•ãƒ‡ãƒ¼ã‚¿ï¼‰
- `output/20260216_article_ver_1/youtube_meta.txt`ï¼ˆYoutubeã®èª¬æ˜æ¬„ç”¨æ–‡ç« ï¼‰

## Canvaã§ã®ä»•ä¸Šã’ï¼šãƒ—ãƒ­ç´šã®ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ã‚’å®Œæˆã•ã›ã‚‹ç·¨é›†ãƒ•ãƒ­ãƒ¼
ã‚·ã‚¹ãƒ†ãƒ ãŒç”Ÿæˆã—ãŸç´ æï¼ˆç”»åƒãƒ»å‹•ç”»ãƒ»éŸ³å£°ï¼‰ã‚’ã€æœ€çµ‚çš„ã«YouTube Shortsã¨ã—ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã™ã‚‹å·¥ç¨‹ã§ã™ã€‚è‡ªå‹•ç”Ÿæˆã®è‰¯ã•ã‚’æ´»ã‹ã—ã¤ã¤ã€è¦–è´ç¶­æŒç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã®ã€Œã²ã¨æ‰‹é–“ã€ã‚’åŠ ãˆã¾ã—ã‚‡ã†ã€‚

#### 1. ç´ æã®æº–å‚™ã¨ä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

ç·¨é›†ã‚’å§‹ã‚ã‚‹å‰ã«ã€å¿…è¦ãªç´ æã‚’ã™ã¹ã¦Canvaã®ã‚¯ãƒ©ã‚¦ãƒ‰ã¸å–ã‚Šè¾¼ã¿ã¾ã™ã€‚

* **äº‹å‰æº–å‚™:**
    * BGMã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ[DOVA-SYNDROME](https://dova-s.jp/) ç­‰ï¼‰
    * SEï¼ˆåŠ¹æœéŸ³ï¼‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ[åŠ¹æœéŸ³ãƒ©ãƒœ](https://soundeffect-lab.info/) ç­‰ï¼‰


* **æ“ä½œæ‰‹é †:**
    1. Canvaã§ã€Œãƒ¢ãƒã‚¤ãƒ«å‹•ç”»ï¼ˆ1080Ã—1920ï¼‰ã€ã®ç©ºã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚
    2. ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€€â†’ã€€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
    3. ã‚·ã‚¹ãƒ†ãƒ ãŒç”Ÿæˆã—ãŸã€Œç”»åƒã€ã€Œå‹•ç”»ã€ã€ŒéŸ³å£°ã€ãŠã‚ˆã³æº–å‚™ã—ãŸã€ŒBGM/SEã€ã‚’ä¸€æ‹¬é¸æŠã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚



#### 2. ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®æ§‹ç¯‰ï¼ˆåŸºæœ¬æ§‹é€ ï¼‰

ç´ æã‚’ä»¥ä¸‹ã®é †åºã§é…ç½®ã—ã€å‹•ç”»ã®åœŸå°ã‚’ä½œã‚Šã¾ã™ã€‚

1. **è¦–è¦šç´ æã®é…ç½®:**
    * ã€Œç”Ÿæˆç”»åƒã€ã‚’æœ€åˆã«ç½®ãã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®å°å…¥éƒ¨ã«åˆã‚ã›ã¦è¡¨ç¤ºæ™‚é–“ã‚’èª¿æ•´ã—ã¾ã™ã€‚
    * ç¶šã„ã¦ã€Œç”Ÿæˆå‹•ç”»ï¼ˆMP4ï¼‰ã€ã‚’ç”»åƒã®ç›´å¾Œã«é…ç½®ã—ã¾ã™ã€‚

2. **éŸ³å£°ã®åŒæœŸ:**
    * ã€Œç”ŸæˆéŸ³å£°ï¼ˆãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã€ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«é…ç½®ã—ã¾ã™ã€‚
    * **Point:** ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®åŒºåˆ‡ã‚Šã¨ã€ç”»åƒã‹ã‚‰å‹•ç”»ã¸åˆ‡ã‚Šæ›¿ã‚ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ä¸€è‡´ã•ã›ã‚‹ã¨ã€è¦–è´è€…ã«ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ä¸ãˆã¾ã›ã‚“ã€‚


3. **SEï¼ˆåŠ¹æœéŸ³ï¼‰ã®æŒ¿å…¥:**
    * è¨˜äº‹ã®åˆ‡ã‚Šæ›¿ã‚ã‚Šã‚„é‡è¦ãªãƒˆãƒ”ãƒƒã‚¯ãŒç™»å ´ã™ã‚‹ç¬é–“ã«SEã‚’é…ç½®ã—ã¾ã™ï¼ˆä¾‹ï¼šç”»åƒã‹ã‚‰å‹•ç”»ã¸ã®é·ç§»æ™‚ã«ã€Œã‚·ãƒ¥ãƒƒã€ã¨ã„ã†éŸ³ã‚’å…¥ã‚Œã‚‹ï¼‰ã€‚



#### 3. è¦–èªæ€§ã‚’æ¥µã‚ã‚‹å­—å¹•ãƒ»ãƒ†ãƒ­ãƒƒãƒ—ã®ãƒ‡ã‚¶ã‚¤ãƒ³

ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ã«ãŠã„ã¦ã€å­—å¹•ã¯ã€ŒéŸ³ã‚’å‡ºã›ãªã„ç’°å¢ƒã®è¦–è´è€…ã€ã‚’é›¢è„±ã•ã›ãªã„ãŸã‚ã®ç”Ÿå‘½ç·šã§ã™ã€‚

* **å­—å¹•ãƒ™ãƒ¼ã‚¹ï¼ˆåº§å¸ƒå›£ï¼‰ã®ä½œæˆ:**
    * ã€Œç´ æã€ã‹ã‚‰ã€Œè§’ä¸¸å››è§’å½¢ã€ã‚’é¸æŠã—ã€ç”»é¢ä¸‹éƒ¨ã«é…ç½®ã—ã¾ã™ã€‚
    * **æ¨å¥¨è¨­å®š:** è‰²ã¯ã€Œç™½ã€ã€é€æ˜åº¦ã¯ã€Œ80%ã€ã«è¨­å®šã€‚èƒŒæ™¯ã‚’é©åº¦ã«é€ã‹ã™ã“ã¨ã§ã€æ˜ åƒã®æ²¡å…¥æ„Ÿã‚’æãªã‚ãšæ–‡å­—ã‚’éš›ç«‹ãŸã›ã¾ã™ã€‚
* **ãƒ†ã‚­ã‚¹ãƒˆã®å…¥åŠ›ã¨ãƒ‡ã‚¶ã‚¤ãƒ³:**
    * **ã‚¿ã‚¤ãƒˆãƒ«:** ã€Œè¦‹å‡ºã—ã‚’è¿½åŠ ã€ã‹ã‚‰è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã€ç”»é¢ä¸Šéƒ¨ã«å›ºå®šã€‚
    * **ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å†…å®¹:** ã€Œå°è¦‹å‡ºã—ã‚’è¿½åŠ ã€ã‹ã‚‰éŸ³å£°ã«åˆã‚ã›ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¾ã™ã€‚
    * **ãƒ•ã‚©ãƒ³ãƒˆæŒ‡å®š:** ã€Œæºãƒè§’ã‚´ã‚·ãƒƒã‚¯ã€ã‚„ã€ŒNoto Sans JPã€ãªã©ã®å¤ªã‚ã®ã‚´ã‚·ãƒƒã‚¯ä½“ã‚’é¸æŠã€‚è‰²ã¯ç™½ã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã§ã€Œè¢‹æ–‡å­—ï¼ˆé»’ãƒ»å¤ªã‚ï¼‰ã€ã‚’é©ç”¨ã™ã‚‹ã¨ã€ã©ã‚“ãªèƒŒæ™¯ã§ã‚‚èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚
* **ã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´:**
    * ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ‡ã‚Œç›®ã§ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’ã€Œåˆ†å‰²ã€ã—ã€é †æ¬¡å†…å®¹ã‚’æ›¸ãæ›ãˆã¦ã„ãã¾ã™ã€‚

#### 4. BGMã¨æ¼”å‡ºã®æœ€çµ‚èª¿æ•´

æœ€å¾Œã«ã€å‹•ç”»å…¨ä½“ã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’æ•´ãˆã‚‹ã€ŒéŸ³ã€ã®å¾®èª¿æ•´ã‚’è¡Œã„ã¾ã™ã€‚

* **BGMã®éŸ³é‡ãƒãƒ©ãƒ³ã‚¹:**
    * BGMã®éŸ³é‡ã‚’**20å‰å¾Œ**ã¾ã§ä¸‹ã’ã¾ã™ã€‚ä¸»å½¹ã¯ã‚ãã¾ã§ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
    * å‹•ç”»ã®ãƒ©ã‚¹ãƒˆã«ã¯ã€Œãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆï¼ˆ3ç§’ï¼‰ã€ã‚’è¨­å®šã—ã€ä½™éŸ»ã‚’æŒãŸã›ã¾ã™ã€‚
* **ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°ãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®è¿½åŠ :**
    * å†’é ­2ç§’ã«ã€Œä»Šæ—¥ã®æ³¨ç›®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã€ç­‰ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã¨ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒéŸ³ã‚’æŒ¿å…¥ã€‚
    * æœ«å°¾3ã€œ5ç§’ã«ã€Œãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²ã€ã‚’ä¿ƒã™ã‚¨ãƒ³ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚’é…ç½®ã—ã¾ã™ï¼ˆCanvaã®YouTubeç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ´»ç”¨ã™ã‚‹ã¨åŠ¹ç‡çš„ã§ã™ï¼‰ã€‚



#### 5. æ›¸ãå‡ºã—å‰ã®æœ€çµ‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™å‰ã«ã€ä»¥ä¸‹ã®é …ç›®ã‚’å¿…ãšãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç¢ºèªã—ã¦ãã ã•ã„ã€‚

* [ ] **60ç§’ä»¥å†…ã‹:** YouTube Shortsã®åˆ¶é™ã‚’è¶…ãˆã¦ã„ãªã„ã‹ã€‚
* [ ] **UIè¢«ã‚Šã¯ãªã„ã‹:** ç”»é¢å³å´ã®ã€Œé«˜è©•ä¾¡ãƒœã‚¿ãƒ³ã€ã‚„ä¸‹éƒ¨ã®ã€Œã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤ºã€ã¨å­—å¹•ãŒé‡ãªã£ã¦ã„ãªã„ã‹ã€‚
* [ ] **èª¤å­—è„±å­—:** AIç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã«ä¸è‡ªç„¶ãªå¤‰æ›ãŒãªã„ã‹ã€‚
* [ ] **éŸ³é‡ãƒãƒ©ãƒ³ã‚¹:** BGMãŒãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é‚ªé­”ã—ã¦ã„ãªã„ã‹ã€‚
* [ ] **9:16ã‚µã‚¤ã‚º:** ç¸¦å‹ã§æ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã€‚

ç¢ºèªå¾Œã€å³ä¸Šã®**å…±æœ‰ã€€â†’ã€€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€€â†’ã€€MP4å½¢å¼**ã§ä¿å­˜ã—ã€æŠ•ç¨¿æº–å‚™å®Œäº†ã§ã™ã€‚

## è¦–è´ã•ã‚Œã‚‹ãŸã‚ã®ã€ŒYouTubeæŠ•ç¨¿ãƒ»é‹ç”¨æˆ¦ç•¥ã€
å‹•ç”»ãŒå®Œæˆã—ãŸã ã‘ã§ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã¯å®Œçµã—ã¾ã›ã‚“ã€‚YouTube Shortsã¨ã„ã†æˆ¦å ´ã§è¦–è´è€…ã«å±Šã‘ã‚‹ãŸã‚ã«ã¯ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«æœ€é©åŒ–ã—ãŸæŠ•ç¨¿æˆ¦ç•¥ãŒå¿…è¦ã§ã™ã€‚

ã“ã“ã§ã¯ã€ç”Ÿæˆã•ã‚ŒãŸã‚¢ã‚»ãƒƒãƒˆã‚’æœ€å¤§é™ã«æ´»ã‹ã—ã€å†ç”Ÿå›æ•°ã‚’ä¼¸ã°ã™ãŸã‚ã®ãƒã‚¦ãƒã‚¦ã‚’å…±æœ‰ã—ã¾ã™ã€‚

### ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’å¥ªã†ã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚µãƒ ãƒã‚¤ãƒ«

Shortså‹•ç”»ã«ãŠã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ­¢ã¾ã‚‹ã€ã‹ã©ã†ã‹ã¯æœ€åˆã®1ç§’ã§æ±ºã¾ã‚Šã¾ã™ã€‚

**ã€ã‚¿ã‚¤ãƒˆãƒ«ã®é‰„å‰‡ã€‘**

* **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ˜ç¤º**: `ã€60ç§’ãƒ‹ãƒ¥ãƒ¼ã‚¹ã€‘` ã®ã‚ˆã†ã«å†’é ­ã«ã€ã€‘ã‚’ä½¿ã„ã€è¦–è´è€…ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç¨®é¡ã‚’å³åº§ã«ä¼ãˆã¾ã™ã€‚
* **å…·ä½“æ€§ã®æç¤º**: `ã€ŒAIãŒå¤‰ãˆã‚‹æœªæ¥ã®åƒãæ–¹ã€` ã‚ˆã‚Šã‚‚ `ã€Œ2026å¹´ã€AIã§æ¶ˆãˆã‚‹ä»•äº‹3é¸ã€` ã®ã‚ˆã†ã«ã€æ•°å­—ã‚„å¼·ã„ãƒ¯ãƒ¼ãƒ‰ã‚’ç››ã‚Šè¾¼ã¿ã¾ã™ã€‚
* **ã‚¹ãƒãƒ›æœ€é©åŒ–**: é‡è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯å·¦å´ã«å¯„ã›ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’å«ã‚ã¦**60æ–‡å­—ä»¥å†…**ã«åã‚ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚

**ã€ã‚µãƒ ãƒã‚¤ãƒ«ã®æœ€é©åŒ–ã€‘**
ã‚·ã‚¹ãƒ†ãƒ ã§ç”Ÿæˆã•ã‚ŒãŸFLUXã®ç”»åƒã¯ã€éå¸¸ã«é«˜å“è³ªã§ã™ã€‚ã“ã‚Œã«Canvaãªã©ã§**å¤§ããªæ–‡å­—ã€€30æ–‡å­—ä»¥å†…**ã‚’ä¹—ã›ã€é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãªé…è‰²ã«ã—ã¦ãã ã•ã„ã€‚ã‚¹ãƒãƒ›ã®å°ã•ãªç”»é¢ã§ã‚‚ä¸€ç›®ã§å†…å®¹ãŒã‚ã‹ã‚‹è¦–èªæ€§ãŒã€ã‚¯ãƒªãƒƒã‚¯ç‡ã‚’å·¦å³ã—ã¾ã™ã€‚


### 9.2 ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«è©•ä¾¡ã•ã‚Œã‚‹èª¬æ˜æ¬„ã®è¨­è¨ˆ

èª¬æ˜æ¬„ï¼ˆDescriptionï¼‰ã¯ã€YouTubeã®æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆSEOï¼‰ã¨ã€å¤–éƒ¨ãƒ¡ãƒ‡ã‚£ã‚¢ã¸ã®èª˜å°ï¼ˆCVï¼‰ã®ä¸¡é¢ã§é‡è¦ã§ã™ã€‚

**ã€æ§‹æˆæ¡ˆã€‘**

```markdown
ã“ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®è©³ç´°ã¯ãƒ–ãƒ­ã‚°ã§è©³ã—ãè§£èª¬ã—ã¦ã„ã¾ã™ğŸ‘‡
https://your-blog.com/posts/20260212

ã€æœ¬æ—¥ã®é‡è¦ãƒˆãƒ”ãƒƒã‚¯ã€‘
ãƒ»AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åŠ‡çš„ãªé€²åŒ–
ãƒ»æ¬¡ä¸–ä»£é‡å­ãƒãƒƒãƒ—ã®é‡ç”£é–‹å§‹
ãƒ»ç«æ˜Ÿæ¢æŸ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€æ–°é€²æ—

ğŸ”” æ¯æ—¥ã€ITãƒ»ãƒ“ã‚¸ãƒã‚¹ã®æœ€å‰ç·šã‚’é…ä¿¡ä¸­ã€‚
è¦‹é€ƒã•ãªã„ã‚ˆã†ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼

#ãƒ‹ãƒ¥ãƒ¼ã‚¹ #ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ #AI #ç”ŸæˆAI #ãƒ“ã‚¸ãƒã‚¹

```

* **ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’æ„è­˜**: æœ€åˆã®3è¡Œã«æœ€ã‚‚é‡è¦ãªãƒªãƒ³ã‚¯ï¼ˆãƒ–ãƒ­ã‚°ã‚„å•†å“ãƒšãƒ¼ã‚¸ï¼‰ã‚’é…ç½®ã—ã¾ã™ã€‚
* **ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®å³é¸**: 3ã€œ5å€‹ã«çµã‚Šã¾ã™ã€‚å¤šã™ãã‚‹ã¨ã‚¹ãƒ‘ãƒ åˆ¤å®šã‚’å—ã‘ã€ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒä¸‹ãŒã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚


### 9.3 æŠ•ç¨¿ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®é»„é‡‘å¾‹

Shortsã®è¦–è´ã‚µã‚¤ã‚¯ãƒ«ã¯éå¸¸ã«æ—©ã„ãŸã‚ã€æŠ•ç¨¿æ™‚é–“ã¯æˆ¦ç•¥çš„ã«è¨­å®šã—ã¾ã™ã€‚

* **ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¿ã‚¤ãƒ  (19:00ã€œ22:00)**: æœ€ã‚‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¤šã„æ™‚é–“å¸¯ã§ã™ã€‚
* **å¹³æ—¥ã®é€šå‹¤ãƒ»é€šå­¦ (7:00ã€œ9:00)**: ã‚¹ã‚­ãƒæ™‚é–“ã®è¦–è´ã‚’ç‹™ã„ã¾ã™ã€‚
* **åœŸæ—¥ã®æ˜¼ä¸‹ãŒã‚Š (13:00ã€œ17:00)**: ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸè¦–è´å±¤ã«ãƒªãƒ¼ãƒã—ã¾ã™ã€‚

YouTube Studioã®ã€Œäºˆç´„æŠ•ç¨¿ã€æ©Ÿèƒ½ã‚’ä½¿ã„ã€æ¯æ—¥æ±ºã¾ã£ãŸæ™‚é–“ã«æŠ•ç¨¿ã™ã‚‹ã“ã¨ã§ã€ãƒãƒ£ãƒ³ãƒãƒ«ã®ä¿¡é ¼æ€§ã¨ãƒªãƒ”ãƒ¼ãƒˆç‡ã‚’é«˜ã‚ã¾ã—ã‚‡ã†ã€‚


## 10. é‹ç”¨ã‚³ã‚¹ãƒˆã®å®Ÿæ¸¬ãƒ¬ãƒãƒ¼ãƒˆ

ã€Œå®Ÿéš›ã«ã„ãã‚‰ã‹ã‹ã‚‹ã®ã‹ï¼Ÿã€ã¨ã„ã†ç‚¹ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’ç¶™ç¶šã™ã‚‹ä¸Šã§æœ€ã‚‚é‡è¦ã§ã™ã€‚1é€±é–“ã®é‹ç”¨ãƒ‡ãƒ¼ã‚¿ï¼ˆ1æ—¥1æœ¬æŠ•ç¨¿ï¼‰ã«åŸºã¥ã„ãŸã‚³ã‚¹ãƒˆè©¦ç®—ã‚’å…¬é–‹ã—ã¾ã™ã€‚

### æœˆé–“ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã®å†…è¨³ï¼ˆç›®å®‰ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | ç”¨é€” | æ¨å®šæœˆé¡ |
| --- | --- | --- |
| **Azure OpenAI (GPT-4o)** | åŸç¨¿è¦ç´„ãƒ»ç”»åƒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ | ç´„ Â¥800 |
| **Azure AI Foundry (FLUX)** | é«˜è§£åƒåº¦ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒç”»åƒç”Ÿæˆ | ç´„ Â¥1,200 |
| **Azure AI Speech (TTS)** | é«˜å“è³ªãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åˆæˆ | ç´„ Â¥600 |
| **åˆè¨ˆ** |  | **ç´„ Â¥2,600 / æœˆ** |

### ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã‚‹ãŸã‚ã®3ã¤ã®çŸ¥æµ

1. **é™æ­¢ç”»ã®è³¢ã„æ´»ç”¨**: æ•°åƒå††ã‹ã‹ã‚‹ã€ŒAIå‹•ç”»ç”Ÿæˆã€ã§ã¯ãªãã€æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®ã‚ˆã†ã«ã€ŒAIé™æ­¢ç”» + ã‚ºãƒ¼ãƒ åŠ¹æœ + ãƒ•ãƒªãƒ¼ç´ æå‹•ç”»ã€ã§æ§‹æˆã™ã‚‹ã“ã¨ã§ã€**ã‚³ã‚¹ãƒˆã‚’1/10ä»¥ä¸‹**ã«åœ§ç¸®ã—ã¦ã„ã¾ã™ã€‚
2. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨å†åˆ©ç”¨**: æŠ½è±¡çš„ãªãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼ˆä¾‹ï¼šã€ŒAIå…¨èˆ¬ã€ï¼‰ã«ã¯ã€éå»ã«ç”Ÿæˆã—ãŸé«˜å“è³ªãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚„ç”»åƒã‚’å†åˆ©ç”¨ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’çµ„ã‚€ã“ã¨ã§ã€ç„¡é§„ãªAPIå‘¼ã³å‡ºã—ã‚’æ¸›ã‚‰ã›ã¾ã™ã€‚
3. **å°‘é‡ãƒ†ã‚¹ãƒˆã®å¾¹åº•**: æœ¬æ ¼é‹ç”¨å‰ã«ã€å¿…ãš1ã€œ2è¨˜äº‹åˆ†ã‚’ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã—ã€Azureã®ã‚³ã‚¹ãƒˆç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å®Ÿéš›ã®èª²é‡‘é¡ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚


## ã¾ã¨ã‚

ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸ **LangGraph Ã— Azure** ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã™ã‚Œã°ã€ã‚ãªãŸã¯ã€Œãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’èª­ã‚“ã§è¨˜äº‹ã‚’æ›¸ãã€ã¨ã„ã†æœ¬æ¥ã®æ´»å‹•ã«é›†ä¸­ã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«ã€Œå‹•ç”»ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã€ã¨ã—ã¦ã®é¡”ã‚‚æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã®åŠ›ã‚’å€Ÿã‚Šã¦ã€ã‚ãªãŸã®çŸ¥è¦‹ã‚’ã‚ˆã‚Šé ãã€ã‚ˆã‚Šå¤šãã®äººã¸å±Šã‘ã¾ã—ã‚‡ã†ã€‚

**æœ¬è¨˜äº‹ã§ä½¿ç”¨ã—ãŸãƒ•ãƒ«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨ã€è¨­å®šç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä»¥ä¸‹ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã„ãŸã ã‘ã¾ã™ã€‚**

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼šå®‰å®šé‹ç”¨ã®ãŸã‚ã®çŸ¥è¦‹
ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿéš›ã«é‹ç”¨ã—å§‹ã‚ã‚‹ã¨ã€APIã®æ°—ã¾ãã‚Œãªã‚¨ãƒ©ãƒ¼ã‚„ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ãªã©ã€ã„ãã¤ã‹ã®å£ã«çªãå½“ãŸã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã“ã§ã¯ã€é–‹ç™ºãƒ»é‹ç”¨ãƒ—ãƒ­ã‚»ã‚¹ã§å¾—ã‚‰ã‚ŒãŸã€Œç¾å ´ã®è§£æ±ºç­–ã€ã‚’ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã¾ã¨ã‚ã¾ã—ãŸã€‚

### Q1: éŸ³å£°ãŒé€”åˆ‡ã‚Œã‚‹ã€ã¾ãŸã¯ç”Ÿæˆã«å¤±æ•—ã™ã‚‹

**ã€åŸå› ã€‘** Azure TTSã®ä¸€æ™‚çš„ãªç¬æ–­ã€ã¾ãŸã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸å®‰å®šã•ãŒä¸»ãªè¦å› ã§ã™ã€‚
**ã€è§£æ±ºç­–ã€‘** æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼ˆãƒªãƒˆãƒ©ã‚¤ï¼‰ãƒ­ã‚¸ãƒƒã‚¯ã‚’å°å…¥ã—ã¦ã€ä¸€æ™‚çš„ãªã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ã§å—ã‘æµã—ã¾ã™ã€‚

```python
import time

max_retries = 3
for attempt in range(max_retries):
    try:
        # éåŒæœŸå®Ÿè¡Œã®çµæœã‚’.get()ã§å¾…æ©Ÿ
        result = synthesizer.speak_text_async(article['content']).get()
        break
    except Exception as e:
        if attempt == max_retries - 1:
            raise e
        # å¤±æ•—ã—ãŸã‚‰2ç§’å¾…æ©Ÿã—ã¦å†è©¦è¡Œï¼ˆå›æ•°ãŒå¢—ãˆã‚‹ã”ã¨ã«å¾…æ©Ÿæ™‚é–“ã‚’ä¼¸ã°ã™ã¨ã‚ˆã‚Šå …ç‰¢ã§ã™ï¼‰
        time.sleep(2)

```

ã“ã®å®Ÿè£…ã«ã‚ˆã‚Šã€ã¡ã‚‡ã£ã¨ã—ãŸé€šä¿¡ã‚¨ãƒ©ãƒ¼ã§ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒæ­¢ã¾ã£ã¦ã—ã¾ã†ã®ã‚’é˜²ã’ã¾ã™ã€‚

### Q2: MoviePyå®Ÿè¡Œä¸­ã«ãƒ¡ãƒ¢ãƒªã‚¨ãƒ©ãƒ¼ï¼ˆOOMï¼‰ãŒç™ºç”Ÿã™ã‚‹

**ã€åŸå› ã€‘** å¤§é‡ã®é«˜è§£åƒåº¦ã‚¯ãƒªãƒƒãƒ—ã‚’åŒæ™‚ã«ãƒ¡ãƒ¢ãƒªã¸å±•é–‹ã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚MoviePyã¯éå¸¸ã«ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»ã—ã‚„ã™ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
**ã€è§£æ±ºç­–ã€‘** ãƒªã‚½ãƒ¼ã‚¹ã®æ˜ç¤ºçš„ãªè§£æ”¾ã¨ã€ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆGCï¼‰ã‚’å¾¹åº•ã—ã¾ã™ã€‚

```python
import gc

# å‹•ç”»æ›¸ãå‡ºã—å¾Œã¯ã€å¿…ãšclose()ã‚’å‘¼ã³å‡ºã—ã€ãƒ¡ãƒ¢ãƒªã‚’å¼·åˆ¶è§£æ”¾ã™ã‚‹
final_video.close()

# Pythonã®ãƒ¡ãƒ¢ãƒªç®¡ç†ã‚’æ˜ç¤ºçš„ã«å®Ÿè¡Œ
gc.collect()

```

ã¾ãŸã€ä¸€åº¦ã«10è¨˜äº‹åˆ†ãªã©ã‚’å‡¦ç†ã›ãšã€3ã€œ5è¨˜äº‹ç¨‹åº¦ã®ã€Œãƒãƒƒãƒã€ã«åˆ†ã‘ã¦å‡¦ç†ã™ã‚‹ã“ã¨ã‚‚åŠ¹æœçš„ã§ã™ã€‚


### Q3: ç”Ÿæˆã•ã‚ŒãŸç”»åƒãŒè¨˜äº‹ã®å†…å®¹ã¨ä¹–é›¢ã—ã¦ã„ã‚‹

**ã€åŸå› ã€‘** GPT-4oãŒç”Ÿæˆã™ã‚‹ç”»åƒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæŠ½è±¡çš„ã™ãã‚‹ã“ã¨ãŒåŸå› ã§ã™ã€‚
**ã€è§£æ±ºç­–ã€‘** ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã€Œã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã€ã¨ã—ã¦å®šç¾©ã—ã€å…·ä½“çš„ãªæ§‹æˆè¦ç´ ã‚’æŒ‡å®šã™ã‚‹ã‚ˆã†ã«æ”¹è‰¯ã—ã¾ã™ã€‚

```python
"content": (
    "ã‚ãªãŸã¯æ˜ ç”»ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã§ã™ã€‚"
    "è¨˜äº‹ã®æ ¸å¿ƒã‚’çªããƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®4è¦ç´ ã‚’è‹±èªã§è©³ç´°ã«æå†™ã—ã¦ãã ã•ã„ã€‚"
    "1. å…·ä½“çš„ãªèˆå°ï¼ˆã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ãªéƒ½å¸‚ã€æœéœ§ã®æ£®ã€ç„¡æ©Ÿè³ªãªç ”ç©¶æ‰€ãªã©ï¼‰"
    "2. è±¡å¾´çš„ãªãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆå·¨å¤§ãªã‚µãƒ¼ãƒãƒ¼ã€å®™ã«æµ®ããƒ‡ãƒã‚¤ã‚¹ãªã©ï¼‰"
    "3. ç…§æ˜ã¨è‰²å½©ï¼ˆå¤•ç„¼ã‘ã®ã‚ªãƒ¬ãƒ³ã‚¸ã€ãƒã‚ªãƒ³ãƒ–ãƒ«ãƒ¼ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãªã©ï¼‰"
    "4. æ§‹å›³ï¼ˆãƒ­ãƒ¼ã‚¢ãƒ³ã‚°ãƒ«ã‹ã‚‰ã®è¦‹ä¸Šã’ã€ãƒã‚¯ãƒ­æ’®å½±ã«ã‚ˆã‚‹è¿‘æ¥ãªã©ï¼‰"
)

```


### Q4: è¨˜äº‹ãŒã†ã¾ãèªè­˜ã•ã‚Œãªã„

**ã€åŸå› ã€‘** ãƒ•ã‚¡ã‚¤ãƒ«åãŒã‚·ã‚¹ãƒ†ãƒ ã®å‘½åè¦å‰‡ï¼ˆæ­£è¦è¡¨ç¾ï¼‰ã«åˆè‡´ã—ã¦ã„ãªã„ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã™ã€‚
**ã€è§£æ±ºç­–ã€‘** ãƒ•ã‚¡ã‚¤ãƒ«åãŒ `20240222_ã‚¿ã‚¤ãƒˆãƒ«.md` ã®ã‚ˆã†ã«ã€ã€Œ8æ¡ã®æ—¥ä»˜ + ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ + ã‚¿ã‚¤ãƒˆãƒ«ã€ã«ãªã£ã¦ã„ã‚‹ã‹ã€æ‹¡å¼µå­ãŒåŠè§’ã® `.md` ã‹ã‚’å†ç¢ºèªã—ã¦ãã ã•ã„ã€‚

### Q5: å‹•ç”»ã®é•·ã•ãŒã€ŒShortsã€ã®åˆ¶é™ï¼ˆ60ç§’ï¼‰ã‚’è¶…ãˆã¦ã—ã¾ã†

**ã€åŸå› ã€‘** è¨˜äº‹æ•°ãŒå¤šã™ãã‚‹ã‹ã€è¦ç´„çµæœã®èª­ã¿ä¸Šã’æ™‚é–“ãŒæƒ³å®šã‚’ä¸Šå›ã£ã¦ã„ã¾ã™ã€‚
**ã€è§£æ±ºç­–ã€‘** * **æ–‡å­—æ•°åˆ¶é™ã®å¼·åŒ–**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã€Œ300æ–‡å­—ä»¥å†…ã€ã¨å³å¯†ã«æŒ‡å®šã™ã‚‹ã€‚

* **è¨˜äº‹æ•°ã®èª¿æ•´**: 1ã¤ã®Shortsã«å…¥ã‚Œã‚‹ãƒˆãƒ”ãƒƒã‚¯ã‚’3ã¤ç¨‹åº¦ã«çµã‚‹ã€‚
* **å†ç”Ÿé€Ÿåº¦ã®èª¿æ•´**: MoviePyå´ã§ `final_video.speedx(1.1)` ã®ã‚ˆã†ã«å°‘ã—ã ã‘å†ç”Ÿé€Ÿåº¦ã‚’ä¸Šã’ã‚‹ï¼ˆ1.1å€ç¨‹åº¦ãªã‚‰é•å’Œæ„Ÿãªãåã¾ã‚Šã¾ã™ï¼‰ã€‚



### Q6: Canvaã§å­—å¹•ã‚’èª­ã¿è¾¼ã‚€ã¨æ—¥æœ¬èªãŒæ–‡å­—åŒ–ã‘ã™ã‚‹

**ã€åŸå› ã€‘** ã‚­ãƒ£ãƒ³ãƒã‚¹ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆãŒæ—¥æœ¬èªã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã§ã™ã€‚
**ã€è§£æ±ºç­–ã€‘**

1. Canvaã«SBVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸå¾Œã€ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚
2. ãƒ•ã‚©ãƒ³ãƒˆä¸€è¦§ã‹ã‚‰ **ã€ŒNoto Sans Japaneseã€** ã‚„ **ã€Œæºãƒè§’ã‚´ã‚·ãƒƒã‚¯ã€** ãªã©ã€æ—¥æœ¬èªå¯¾å¿œãƒ•ã‚©ãƒ³ãƒˆã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦ãã ã•ã„ã€‚


**ã“ã‚Œã§ã€é‹ç”¨ä¸Šã®ä¸å®‰ã‚‚è§£æ¶ˆã•ã‚ŒãŸã¯ãšã§ã™ã€‚ãƒˆãƒ©ãƒ–ãƒ«ã‚’ä¹—ã‚Šè¶Šãˆã‚‹ãŸã³ã«ã€ã‚ãªãŸã®è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ã¯ã‚ˆã‚Šå¼·å›ºãªã‚‚ã®ã¸ã¨é€²åŒ–ã—ã¦ã„ãã¾ã™ï¼**

## æœªæ¥ã¸ã®å±•æœ›ï¼šã•ã‚‰ãªã‚‹é€²åŒ–ã«å‘ã‘ãŸæ‹¡å¼µã‚¢ã‚¤ãƒ‡ã‚¢
ä»Šå›æ§‹ç¯‰ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã‚ãã¾ã§ã€Œè‡ªå‹•åŒ–ã®å‡ºç™ºç‚¹ã€ã«éãã¾ã›ã‚“ã€‚LangGraphã®æŸ”è»Ÿãªæ§‹é€ ã‚’æ´»ã‹ã›ã°ã€ã•ã‚‰ã«é«˜åº¦ã§ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã—ã€æ–‡å­—é€šã‚Šã€Œå¯ã¦ã„ã‚‹é–“ã«ãƒãƒ£ãƒ³ãƒãƒ«ãŒæˆé•·ã™ã‚‹ã€ç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚

ä»Šå¾Œå®Ÿè£…ã‚’æ¤œè¨ã—ã¦ã„ã‚‹ã€5ã¤ã®ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°ãªæ‹¡å¼µã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

### 1. ã€Œãƒ•ãƒ«ã‚ªãƒ¼ãƒˆå­—å¹•ã€ï¼šWhisper APIã«ã‚ˆã‚‹è‡ªå‹•ãƒ†ãƒ­ãƒƒãƒ—ç„¼ãè¾¼ã¿

ç¾åœ¨ã¯å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã§ã®å­—å¹•ä»˜ã‘ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ãŒã€OpenAIã® **Whisper API** ã‚’çµ„ã¿è¾¼ã‚ã°ã€å‹•ç”»å†…ã«ç›´æ¥ãƒ†ãƒ­ãƒƒãƒ—ã‚’ç„¼ãè¾¼ã‚€ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

**ã€å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‘**

```python
import openai

# Whisperã§éŸ³å£°ã‹ã‚‰é«˜ç²¾åº¦ãªå­—å¹•ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
with open(audio_path, "rb") as audio_file:
    transcript = openai.Audio.transcribe(
        model="whisper-1",
        file=audio_file,
        response_format="srt" # ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãã®SRTå½¢å¼
    )

# å–å¾—ã—ãŸSRTã‚’MoviePyã®TextClipã«å¤‰æ›ã—ã€å‹•ç”»ä¸Šã«åˆæˆ
# ã“ã‚Œã«ã‚ˆã‚Šã€æ‰‹å‹•ä½œæ¥­ã‚¼ãƒ­ã®å®Œå…¨è‡ªå‹•ç”ŸæˆãŒå®Œæˆã—ã¾ã™

```

ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒåŠ ã‚ã‚Œã°ã€Canvaãªã©ã®ç·¨é›†ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãå¿…è¦ã™ã‚‰ãªããªã‚Šã¾ã™ã€‚

### 2. A/Bãƒ†ã‚¹ãƒˆã®è‡ªå‹•åŒ–ã«ã‚ˆã‚‹ã€Œå‹ã¦ã‚‹å‹•ç”»ã€ã®å­¦ç¿’

è¤‡æ•°ã®ã‚¿ã‚¤ãƒˆãƒ«æ¡ˆã‚„ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã‚’ç”Ÿæˆã—ã€YouTube Analytics APIã¨é€£æºã•ã›ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã§ã™ã€‚ã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã‚¯ãƒªãƒƒã‚¯ç‡ï¼ˆCTRï¼‰ã‚’é«˜ã‚ãŸã‹ã‚’AIã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã€æ¬¡å›ã®ç”Ÿæˆã«æ´»ã‹ã™ã€Œè‡ªå·±é€²åŒ–å‹ã€ã®ãƒãƒ£ãƒ³ãƒãƒ«é‹ç”¨ã‚’ç›®æŒ‡ã›ã¾ã™ã€‚

### 3. ã€Œãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€ã®æ§‹ç¯‰

RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚„ãƒ‹ãƒ¥ãƒ¼ã‚¹APIã¨ç›´æ¥é€£æºã—ã€æœ€æ–°ãƒˆãƒ”ãƒƒã‚¯ãŒä¸–ã«å‡ºãŸç¬é–“ã«ã€Œè¨˜äº‹åŒ– â†’ å‹•ç”»åŒ– â†’ æŠ•ç¨¿ã€ã¾ã§ã‚’ä¸€æ°—ã«é§†ã‘æŠœã‘ã‚‹å®Œå…¨è‡ªå‹•ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã™ã€‚é€Ÿå ±æ€§ãŒå‘½ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¸ãƒ£ãƒ³ãƒ«ã«ãŠã„ã¦ã€åœ§å€’çš„ãªå„ªä½æ€§ã‚’ç¯‰ã‘ã¾ã™ã€‚

### 4. ã‚°ãƒ­ãƒ¼ãƒãƒ«å±•é–‹ï¼šãƒãƒ«ãƒè¨€èªã¸ã®ä¸€æ‹¬å¤‰æ›

Azure AI Speechã®å¼·ã¿ã¯ã€ãã®å¤šè¨€èªå¯¾å¿œåŠ›ã«ã‚ã‚Šã¾ã™ã€‚è¦ç´„ã—ãŸåŸç¨¿ã‚’GPT-4oã§è‹±èªã€ä¸­å›½èªã€ã‚¹ãƒšã‚¤ãƒ³èªãªã©ã«ç¿»è¨³ã—ã€ãã®ã¾ã¾å„è¨€èªã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãªéŸ³å£°ã§å‡ºåŠ›ã€‚ä¸€ã¤ã®è¨˜äº‹ã‹ã‚‰ã€ä¸–ç•Œä¸­ã®è¦–è´è€…ã«å‘ã‘ãŸå‹•ç”»ã‚’åŒæ™‚ã«é‡ç”£ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

### 5. YouTube Data APIã«ã‚ˆã‚‹ã€Œå®Œå…¨è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã€

æœ€å¾Œã«ã€ç”Ÿæˆã•ã‚ŒãŸMP4ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ **YouTube Data API** çµŒç”±ã§ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ã“ã‚ŒãŒå®Ÿè£…ã•ã‚Œã‚Œã°ã€äººé–“ã®å½¹å‰²ã¯ã€Œæœèµ·ãã¦ã€æ˜¨æ™©è‡ªå‹•ã§æŠ•ç¨¿ã•ã‚ŒãŸå‹•ç”»ã®å†ç”Ÿæ•°ã‚’ç¢ºèªã™ã‚‹ã ã‘ã€ã«ãªã‚Šã¾ã™ã€‚

## ã¾ã¨ã‚

æœ¬è¨˜äº‹ã§ã¯ã€LangGraphã‚’ç”¨ã„ãŸè‡ªå‹•ãƒ‹ãƒ¥ãƒ¼ã‚¹å‹•ç”»ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®å…¨å®¹ã‚’ã€ã‚³ãƒ¼ãƒ‰ã®è©³ç´°ãªè§£èª¬ã¨ã¨ã‚‚ã«ãŠä¼ãˆã—ã¾ã—ãŸã€‚

å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã€LangGraphã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†ã¨å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®æ˜ç¢ºåŒ–ã€Azure AIã‚µãƒ¼ãƒ“ã‚¹ã®åŠ¹æœçš„ãªçµ„ã¿åˆã‚ã›ã€ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã®ãŸã‚ã®æŠ€è¡“é¸å®šã€å®Ÿç”¨æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã®ç´°ã‹ãªå·¥å¤«ãŒã‚ã‚Šã¾ã™ã€‚

é‡è¦ãªç•™æ„ç‚¹ã¨ã—ã¦ã€ç”Ÿæˆã•ã‚Œã‚‹ã®ã¯ã€Œç´ æå‹•ç”»ã€ã§ã‚ã‚Šã€Canvaãªã©ã§ã®ç·¨é›†ãŒå¿…é ˆã§ã‚ã‚‹ã“ã¨ã€BGMã€SEã€å­—å¹•ã€ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°ãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¯æ‰‹å‹•ã§è¿½åŠ ã™ã‚‹ã“ã¨ã€è‘—ä½œæ¨©ãƒ»è‚–åƒæ¨©ã¸ã®é…æ…®ãŒä¸å¯æ¬ ã§ã‚ã‚‹ã“ã¨ã€Azureæ–™é‡‘ã®å¾“é‡èª²é‡‘ã«æ³¨æ„ã™ã‚‹ã“ã¨ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ›¸ãã ã‘ã§YouTubeã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç´ æã‚‚è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã¨ã„ã†ã€åŠ¹ç‡çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

å®Œæˆå“ã«ã™ã‚‹ã«ã¯è¿½åŠ ã®ç·¨é›†ä½œæ¥­ãŒå¿…è¦ã§ã™ãŒã€ãã‚Œã§ã‚‚è¨˜äº‹åŸ·ç­†ã«é›†ä¸­ã—ãªãŒã‚‰ã€å‹•ç”»ã¨ã„ã†æ–°ã—ã„ãƒãƒ£ãƒãƒ«ã§è¦–è´è€…ã«ãƒªãƒ¼ãƒã§ãã‚‹å¤§ããªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚

è¨˜äº‹åŸ·ç­†ã¨YouTubeé‹å–¶ã®ä¸¡ç«‹ã«æ‚©ã‚“ã§ã„ã‚‹æ–¹ã¯ã€ãœã²ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
